<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Specifications" href="spec/index.html" /><link rel="prev" title="Smithy" href="index.html" />

    <link rel="shortcut icon" href="_static/favicon.png"/><meta name="generator" content="sphinx-5.3.0, furo 2022.06.21"/>
        <title>Quick start - Smithy 1.0</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 100%;
  --admonition-title-font-size: 100%;
  --color-brand-primary: #C44536;
  --color-brand-content: #00808b;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
      }
    }
  }
</style><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js"></script>
<script src="https://d2c.aws.amazon.com/client/loader/v1/d2c-load.js"></script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     <strong>⚠️ You are viewing version 1.0.</strong><br/>
Version 2.0 is available at <a href="https://smithy.io/2.0/">https://smithy.io/2.0/</a>. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Smithy 1.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/smithy.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Quick start</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="spec/index.html">Specifications</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="spec/core/index.html">Smithy specification</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="spec/core/model.html">1. The Smithy model</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/prelude-model.html">2. Prelude model</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/constraint-traits.html">3. Constraint traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/documentation-traits.html">4. Documentation traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/type-refinement-traits.html">5. Type refinement traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/protocol-traits.html">6. Protocol traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/auth-traits.html">7. Authentication traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/behavior-traits.html">8. Behavior traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/resource-traits.html">9. Resource traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/stream-traits.html">10. Streaming Traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/http-traits.html">11. HTTP binding traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/xml-traits.html">12. XML binding traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/endpoint-traits.html">13. Endpoint Traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/selectors.html">14. Selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/model-validation.html">15. Model validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/idl.html">16. Smithy IDL</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/core/json-ast.html">17. JSON AST</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spec/http-protocol-compliance-tests.html">HTTP Protocol Compliance Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec/waiters.html">Waiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec/mqtt.html">MQTT Protocol Bindings</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="spec/aws/index.html">AWS specifications</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-core.html">AWS Core Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-auth.html">AWS Authentication Traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-iam.html">AWS IAM traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/amazon-apigateway.html">Amazon API Gateway traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-cloudformation.html">AWS CloudFormation traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-restjson1-protocol.html">AWS restJson1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-json-1_0-protocol.html">AWS JSON 1.0 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-json-1_1-protocol.html">AWS JSON 1.1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-restxml-protocol.html">AWS restXml protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-query-protocol.html">AWS query protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="spec/aws/aws-ec2-query-protocol.html">AWS EC2 query protocol</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="spec/aws/customizations/index.html">AWS Service Customizations</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="spec/aws/customizations/apigateway-customizations.html">Amazon API Gateway Customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="spec/aws/customizations/glacier-customizations.html">Amazon Glacier Customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="spec/aws/customizations/machinelearning-customizations.html">Amazon Machine Learning Customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="spec/aws/customizations/s3-customizations.html">Amazon S3 Customizations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="guides/index.html">Smithy Guides</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="guides/building-models/index.html">Building Smithy Models</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="guides/building-models/gradle-plugin.html">Smithy Gradle Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="guides/building-models/build-config.html">smithy-build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="guides/model-linters.html">Model linters</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/evolving-models.html">Evolving Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/style-guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/converting-to-openapi.html">Converting Smithy to OpenAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/generating-cloudformation-resources.html">Generating CloudFormation Resource Schemas from Smithy</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Implementations</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/2.0/implementations.html">Implementations</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="ts-ssdk/index.html">Smithy Server Generator for TypeScript</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="ts-ssdk/introduction.html">Introduction to the Smithy Server Generator for TypeScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="ts-ssdk/handlers.html">Smithy Server Generator for TypeScript handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ts-ssdk/validation.html">Smithy Server Generator for TypeScript validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ts-ssdk/error-handling.html">Smithy Server Generator for TypeScript error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="ts-ssdk/supported-endpoints.html">Smithy Server Generator for TypeScript supported endpoints</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy">Source code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/2.0/">2.0 Documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/awslabs/smithy/edit/main/docs/source-1.0/quickstart.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="quick-start">
<h1>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this heading">#</a></h1>
<p>This document is a tutorial that introduces the Smithy interface definition
language (IDL). By reading this tutorial, you will learn:</p>
<ul class="simple">
<li>How to create a Smithy model</li>
<li>How to define <a class="reference internal" href="spec/core/model.html#shapes"><span class="std std-ref">shapes</span></a>, including <a class="reference internal" href="spec/core/model.html#service"><span class="std std-ref">Service</span></a>,
<a class="reference internal" href="spec/core/model.html#resource"><span class="std std-ref">Resource</span></a>, and <a class="reference internal" href="spec/core/model.html#operation"><span class="std std-ref">Operation</span></a> shapes</li>
<li>How to apply <a class="reference internal" href="spec/core/model.html#traits"><span class="std std-ref">traits</span></a> to shapes</li>
</ul>
<div class="section" id="what-is-smithy">
<h2>What is Smithy?<a class="headerlink" href="#what-is-smithy" title="Permalink to this heading">#</a></h2>
<p><em>Smithy</em> is an interface definition language and set of tools that allows
developers to build clients and servers in multiple languages. Smithy
models define a service as a collection of resources, operations, and shapes.
A Smithy model enables API providers to generate clients and servers in
various programming languages, API documentation, test automation, and
example code.</p>
</div>
<div class="section" id="shapes-and-traits">
<h2>Shapes and traits<a class="headerlink" href="#shapes-and-traits" title="Permalink to this heading">#</a></h2>
<p>Smithy models consist of shapes and traits. <a class="reference internal" href="spec/core/model.html#shapes"><span class="std std-ref">Shapes</span></a> are
instances of <em>types</em>. <a class="reference internal" href="spec/core/model.html#traits"><span class="std std-ref">Traits</span></a> are used to add more information
to shapes that might be useful for clients, servers, or documentation.</p>
<p>Smithy supports the following types:</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="docutils align-default">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>blob</td>
<td>Uninterpreted binary data</td>
</tr>
<tr class="row-odd"><td>boolean</td>
<td>Boolean value type</td>
</tr>
<tr class="row-even"><td>string</td>
<td>UTF-8 encoded string</td>
</tr>
<tr class="row-odd"><td>byte</td>
<td>8-bit signed integer ranging from -128 to 127 (inclusive)</td>
</tr>
<tr class="row-even"><td>short</td>
<td>16-bit signed integer ranging from -32,768 to 32,767 (inclusive)</td>
</tr>
<tr class="row-odd"><td>integer</td>
<td>32-bit signed integer ranging from -2^31 to (2^31)-1 (inclusive)</td>
</tr>
<tr class="row-even"><td>long</td>
<td>64-bit signed integer ranging from -2^63 to (2^63)-1 (inclusive)</td>
</tr>
<tr class="row-odd"><td>float</td>
<td>Single precision IEEE-754 floating point number</td>
</tr>
<tr class="row-even"><td>double</td>
<td>Double precision IEEE-754 floating point number</td>
</tr>
<tr class="row-odd"><td>bigInteger</td>
<td>Arbitrarily large signed integer</td>
</tr>
<tr class="row-even"><td>bigDecimal</td>
<td>Arbitrary precision signed decimal number</td>
</tr>
<tr class="row-odd"><td>timestamp</td>
<td>An instant in time with no UTC offset or timezone. The
serialization of a timestamp is determined by a
<a class="reference internal" href="spec/core/protocol-traits.html#protocoldefinition-trait"><span class="std std-ref">protocol</span></a>.</td>
</tr>
<tr class="row-even"><td>document type</td>
<td>An untyped JSON-like value.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="spec/core/model.html#list"><span class="std std-ref">List</span></a></td>
<td>Homogeneous collection of values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="spec/core/model.html#map"><span class="std std-ref">Map</span></a></td>
<td>Map data structure that maps string keys to homogeneous values</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="spec/core/model.html#structure"><span class="std std-ref">Structure</span></a></td>
<td>Fixed set of named heterogeneous members</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="spec/core/model.html#union"><span class="std std-ref">Union</span></a></td>
<td><a class="reference external" href="https://en.wikipedia.org/wiki/Tagged_union">Tagged union</a> data structure that can take on several different,
but fixed, types</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="spec/core/model.html#service"><span class="std std-ref">Service</span></a></td>
<td>Entry point of an API that aggregates resources and operations together</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="spec/core/model.html#operation"><span class="std std-ref">Operation</span></a></td>
<td>Represents the input, output and possible errors of an API operation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="spec/core/model.html#resource"><span class="std std-ref">Resource</span></a></td>
<td>An entity with an identity, set of operations, and child resources</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="weather-service">
<h2>Weather Service<a class="headerlink" href="#weather-service" title="Permalink to this heading">#</a></h2>
<p>In order to demonstrate how Smithy models are defined, we will create a
weather service.</p>
<ol class="arabic simple">
<li>This service provides weather information for cities.</li>
<li>This service consists of <code class="docutils literal notranslate"><span class="pre">City</span></code> resources and <code class="docutils literal notranslate"><span class="pre">Forecast</span></code> resources.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">Weather</span></code> service has many <code class="docutils literal notranslate"><span class="pre">City</span></code> resources, and a <code class="docutils literal notranslate"><span class="pre">City</span></code>
resource contains a single <code class="docutils literal notranslate"><span class="pre">Forecast</span></code> singleton resource.</li>
<li>This service closure contains the following operations:
<code class="docutils literal notranslate"><span class="pre">ListCities</span></code>, <code class="docutils literal notranslate"><span class="pre">GetCity</span></code>, <code class="docutils literal notranslate"><span class="pre">GetForecast</span></code>, <code class="docutils literal notranslate"><span class="pre">GetCurrentTime</span></code>.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">Weather</span></code> is a <a class="reference internal" href="spec/core/model.html#service"><span class="std std-ref">Service</span></a> shape that is defined inside of a
<a class="reference internal" href="spec/core/idl.html#namespaces"><span class="std std-ref">namespace</span></a>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace </span><span class="nc">example.weather</span>

<span class="c">/// Provides weather forecasts.</span>
<span class="c">/// Triple slash comments attach documentation to shapes.</span>
<span class="kd">service </span><span class="nc">Weather</span><span class="w"> </span>{
<span class="w">    </span><span class="py">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2006-03-01&quot;</span>
}
</pre></div>
</div>
<div class="note admonition">
<p class="first admonition-title">What's that syntax?</p>
<p>Smithy models are defined using either the <a class="reference internal" href="spec/core/idl.html#idl"><span class="std std-ref">Smithy IDL</span></a>
or the <a class="reference internal" href="spec/core/json-ast.html#json-ast"><span class="std std-ref">JSON AST</span></a>. The JSON AST representation of a model
is typically an artifact created by build tools to make them easier to
use by other tooling.</p>
<ul class="last simple">
<li><code class="docutils literal notranslate"><span class="pre">//</span></code> is used for comments</li>
<li><code class="docutils literal notranslate"><span class="pre">///</span></code> is used to add <a class="reference internal" href="spec/core/idl.html#documentation-comment"><span class="std std-ref">documentation</span></a>
to the following shape.</li>
<li>Keywords like <code class="docutils literal notranslate"><span class="pre">service</span></code> and <code class="docutils literal notranslate"><span class="pre">structure</span></code> start the definition of a
shape.</li>
</ul>
</div>
</div>
<div class="section" id="defining-resources">
<h2>Defining resources<a class="headerlink" href="#defining-resources" title="Permalink to this heading">#</a></h2>
<p>A resource is contained within a service or another resource. Resources have
identifiers, operations, and any number of child resources.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace </span><span class="nc">example.weather</span>

<span class="c">/// Provides weather forecasts.</span>
<span class="kd">service </span><span class="nc">Weather</span><span class="w"> </span>{
<span class="w">    </span><span class="py">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2006-03-01&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="py">resources</span><span class="p">:</span><span class="w"> </span>[<span class="vc">City</span>]
}

<span class="kd">resource </span><span class="nc">City</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{<span class="w"> </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="w"> </span>}<span class="p">,</span>
<span class="w">    </span><span class="py">read</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCity</span><span class="p">,</span>
<span class="w">    </span><span class="py">list</span><span class="p">:</span><span class="w"> </span><span class="vc">ListCities</span><span class="p">,</span>
}

<span class="c">// &quot;pattern&quot; is a trait.</span>
<span class="nt">@pattern</span>(<span class="s2">&quot;^[A-Za-z0-9 ]+$&quot;</span>)
<span class="kd">string </span><span class="nc">CityId</span>
</pre></div>
</div>
<p>Because the <code class="docutils literal notranslate"><span class="pre">Weather</span></code> service contains many cities, the <code class="docutils literal notranslate"><span class="pre">City</span></code> resource
defines an <a class="reference internal" href="spec/core/model.html#resource-identifiers"><span class="std std-ref">identifier</span></a>. <em>Identifiers</em> are used
to refer to a specific resource within a service. The &quot;identifiers&quot; property
is a mapping of identifier names to the shape to use for that identifier. If
the input structure of an operation uses the same names and targeted shapes
as the <code class="docutils literal notranslate"><span class="pre">identifiers</span></code> property of the resource, the structure is
<a class="reference internal" href="spec/core/model.html#implicit-identifier-bindings"><span class="std std-ref">automatically configured</span></a> to work with
the resource so that input members of the operation are used to provide the
identity of the resource.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">City</span></code> has a single <code class="docutils literal notranslate"><span class="pre">Forecast</span></code>. This can be defined by adding the
<code class="docutils literal notranslate"><span class="pre">Forecast</span></code> to the <code class="docutils literal notranslate"><span class="pre">resources</span></code> property of the <code class="docutils literal notranslate"><span class="pre">City</span></code>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">resource </span><span class="nc">City</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{<span class="w"> </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="w"> </span>}<span class="p">,</span>
<span class="w">    </span><span class="py">read</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCity</span><span class="p">,</span>
<span class="w">    </span><span class="py">list</span><span class="p">:</span><span class="w"> </span><span class="vc">ListCities</span><span class="p">,</span>
<span class="w">    </span><span class="py">resources</span><span class="p">:</span><span class="w"> </span>[<span class="vc">Forecast</span>]<span class="p">,</span>
}

<span class="kd">resource </span><span class="nc">Forecast</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{<span class="w"> </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="w"> </span>}<span class="p">,</span>
<span class="w">    </span><span class="py">read</span><span class="p">:</span><span class="w"> </span><span class="vc">GetForecast</span><span class="p">,</span>
}
</pre></div>
</div>
<p>Child resources must define the exact same identifiers property of their
parent, but they are allowed to add any number of additional identifiers if
needed. Because there is only one forecast per city, no additional identifiers
were added to the identifiers property that isn't present on the <code class="docutils literal notranslate"><span class="pre">City</span></code>
resource.</p>
<div class="tip admonition">
<p class="first admonition-title">Review</p>
<ol class="last arabic simple">
<li>The <code class="docutils literal notranslate"><span class="pre">resources</span></code> property binds resources to service and resource
shapes.</li>
<li>Resources can define identifiers.</li>
<li>Child resources must define the same identifiers as their parents,
and they can also define additional identifiers.</li>
</ol>
</div>
</div>
<div class="section" id="defining-operations">
<h2>Defining operations<a class="headerlink" href="#defining-operations" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">put</span></code>, <code class="docutils literal notranslate"><span class="pre">create</span></code>, <code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">update</span></code>, <code class="docutils literal notranslate"><span class="pre">delete</span></code>, and <code class="docutils literal notranslate"><span class="pre">list</span></code>
properties of a resource are used to define the <a class="reference internal" href="spec/core/model.html#lifecycle-operations"><span class="std std-ref">lifecycle operations</span></a> of a resource. Lifecycle operations are the canonical
methods used to read and transition the state of a resource using well-defined
semantics. Defining lifecycle operations helps automated tooling reason about
your API.</p>
<p>Let's define the operation used to &quot;read&quot; a <code class="docutils literal notranslate"><span class="pre">City</span></code>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@readonly</span>
<span class="kd">operation </span><span class="nc">GetCity</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCityInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCityOutput</span><span class="p">,</span>
<span class="w">    </span><span class="py">errors</span><span class="p">:</span><span class="w"> </span>[<span class="vc">NoSuchResource</span>]
}

<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">GetCityInput</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// &quot;cityId&quot; provides the identifier for the resource and</span>
<span class="w">    </span><span class="c">// has to be marked as required.</span>
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span>
}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">GetCityOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// &quot;required&quot; is used on output to indicate if the service</span>
<span class="w">    </span><span class="c">// will always provide a value for the member.</span>
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">coordinates</span><span class="p">:</span><span class="w"> </span><span class="vc">CityCoordinates</span><span class="p">,</span>
}

<span class="kd">structure </span><span class="nc">CityCoordinates</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">latitude</span><span class="p">:</span><span class="w"> </span><span class="vc">Float</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">longitude</span><span class="p">:</span><span class="w"> </span><span class="vc">Float</span><span class="p">,</span>
}

<span class="c">// &quot;error&quot; is a trait that is used to specialize</span>
<span class="c">// a structure as an error.</span>
<span class="nt">@error</span>(<span class="s2">&quot;client&quot;</span>)
<span class="kd">structure </span><span class="nc">NoSuchResource</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">resourceType</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>And define the operation used to &quot;read&quot; a <code class="docutils literal notranslate"><span class="pre">Forecast</span></code>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@readonly</span>
<span class="kd">operation </span><span class="nc">GetForecast</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">GetForecastInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">GetForecastOutput</span>
}

<span class="c">// &quot;cityId&quot; provides the only identifier for the resource since</span>
<span class="c">// a Forecast doesn&#39;t have its own.</span>
<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">GetForecastInput</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="p">,</span>
}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">GetForecastOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">chanceOfRain</span><span class="p">:</span><span class="w"> </span><span class="vc">Float</span>
}
</pre></div>
</div>
<div class="tip admonition">
<p class="first admonition-title">Review</p>
<ol class="last arabic simple">
<li>Operations accept and return structured messages.</li>
<li>Operations are bound to service shapes and resource shapes.</li>
<li>Operations marked as <a class="reference internal" href="spec/core/behavior-traits.html#readonly-trait"><span class="std std-ref">readonly trait</span></a> indicate the operation
has no side effects.</li>
<li>Operations should define the <a class="reference internal" href="spec/core/type-refinement-traits.html#error-trait"><span class="std std-ref">errors</span></a> it can return.</li>
</ol>
</div>
</div>
<div class="section" id="listing-resources">
<h2>Listing resources<a class="headerlink" href="#listing-resources" title="Permalink to this heading">#</a></h2>
<p>There are many <code class="docutils literal notranslate"><span class="pre">City</span></code> resources contained within the <code class="docutils literal notranslate"><span class="pre">Weather</span></code> service.
The <a class="reference internal" href="spec/core/model.html#list-lifecycle"><span class="std std-ref">list lifecycle operation</span></a> can be added to the
<code class="docutils literal notranslate"><span class="pre">City</span></code> resource to list all of the cities in the service. The list operation
is a <a class="reference internal" href="spec/core/model.html#collection-operations"><span class="std std-ref">collection operation</span></a>, and as such, MUST NOT
bind the identifier of a <code class="docutils literal notranslate"><span class="pre">City</span></code> to its input structure; we are listing
cities, so there's no way we could provide a <code class="docutils literal notranslate"><span class="pre">City</span></code> identifier.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="c">/// Provides weather forecasts.</span>
<span class="nt">@paginated</span>(<span class="py">inputToken</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">outputToken</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span>
<span class="w">           </span><span class="py">pageSize</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pageSize&quot;</span>)
<span class="kd">service </span><span class="nc">Weather</span><span class="w"> </span>{
<span class="w">    </span><span class="py">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2006-03-01&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="py">resources</span><span class="p">:</span><span class="w"> </span>[<span class="vc">City</span>]
}

<span class="c">// The paginated trait indicates that the operation may</span>
<span class="c">// return truncated results. Applying this trait to the service</span>
<span class="c">// sets default pagination configuration settings on each operation.</span>
<span class="nt">@paginated</span>(<span class="py">items</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;items&quot;</span>)
<span class="nt">@readonly</span>
<span class="kd">operation </span><span class="nc">ListCities</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">ListCitiesInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">ListCitiesOutput</span>
}

<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">ListCitiesInput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">nextToken</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
<span class="w">    </span><span class="py">pageSize</span><span class="p">:</span><span class="w"> </span><span class="vc">Integer</span>
}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">ListCitiesOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">nextToken</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">items</span><span class="p">:</span><span class="w"> </span><span class="vc">CitySummaries</span><span class="p">,</span>
}

<span class="c">// CitySummaries is a list of CitySummary structures.</span>
<span class="kd">list </span><span class="nc">CitySummaries</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">CitySummary</span>
}

<span class="c">// CitySummary contains a reference to a City.</span>
<span class="nt">@references</span>([{<span class="py">resource</span><span class="p">:</span><span class="w"> </span><span class="vc">City</span>}])
<span class="kd">structure </span><span class="nc">CitySummary</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
}
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ListCities</span></code> operation is <a class="reference internal" href="spec/core/behavior-traits.html#paginated-trait"><span class="std std-ref">paginated</span></a>, meaning
the results of invoking the operation can be truncated, requiring subsequent
calls to retrieve the entire list of results. It's usually a good idea to add
pagination to an API that lists resources because it can help prevent
operational issues in the future if the list grows to an unpredicted size.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">CitySummary</span></code> structure defines a <a class="reference internal" href="spec/core/resource-traits.html#references-trait"><span class="std std-ref">reference</span></a>
to a <code class="docutils literal notranslate"><span class="pre">City</span></code> resource. This gives tooling a better understanding of the
relationships in your service.</p>
<p>The above example refers to <a class="reference internal" href="spec/core/prelude-model.html#prelude"><span class="std std-ref">prelude shapes</span></a> like
<code class="docutils literal notranslate"><span class="pre">String</span></code> that are automatically available in all Smithy models.</p>
<div class="tip admonition">
<p class="first admonition-title">Review</p>
<ol class="last arabic simple">
<li>The <code class="docutils literal notranslate"><span class="pre">list</span></code> lifecycle operation is used to list resources.</li>
<li><code class="docutils literal notranslate"><span class="pre">list</span></code> operations should be <a class="reference internal" href="spec/core/behavior-traits.html#paginated-trait"><span class="std std-ref">paginated trait</span></a>.</li>
<li>The <a class="reference internal" href="spec/core/resource-traits.html#references-trait"><span class="std std-ref">references trait</span></a> links a structure to a resource.</li>
<li>Prelude shapes can help DRY up models.</li>
</ol>
</div>
</div>
<div class="section" id="non-lifecycle-operations">
<h2>Non-Lifecycle Operations<a class="headerlink" href="#non-lifecycle-operations" title="Permalink to this heading">#</a></h2>
<p>Smithy supports operations that don't fit into the typical create, read,
update, delete, and list lifecycles. Operations can be added to any resource or
service shape with no special lifecycle designation using the <code class="docutils literal notranslate"><span class="pre">operations</span></code>
property. The following operation gets the current time from the <code class="docutils literal notranslate"><span class="pre">Weather</span></code>
service.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="c">/// Provides weather forecasts.</span>
<span class="nt">@paginated</span>(<span class="py">inputToken</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">outputToken</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span>
<span class="w">           </span><span class="py">pageSize</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pageSize&quot;</span>)
<span class="kd">service </span><span class="nc">Weather</span><span class="w"> </span>{
<span class="w">    </span><span class="py">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2006-03-01&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="py">resources</span><span class="p">:</span><span class="w"> </span>[<span class="vc">City</span>]<span class="p">,</span>
<span class="w">    </span><span class="py">operations</span><span class="p">:</span><span class="w"> </span>[<span class="vc">GetCurrentTime</span>]
}

<span class="nt">@readonly</span>
<span class="kd">operation </span><span class="nc">GetCurrentTime</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCurrentTimeInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCurrentTimeOutput</span>
}

<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">GetCurrentTimeInput</span><span class="w"> </span>{}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">GetCurrentTimeOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">time</span><span class="p">:</span><span class="w"> </span><span class="vc">Timestamp</span>
}
</pre></div>
</div>
</div>
<div class="section" id="building-the-model">
<h2>Building the Model<a class="headerlink" href="#building-the-model" title="Permalink to this heading">#</a></h2>
<p>Now that you have a model, you'll want to build it and generate things from it.
Building the model creates projections of the model, applies plugins to
generate artifacts, runs validation, and creates a JAR that contains the
filtered projection. The <a class="reference external" href="https://github.com/awslabs/smithy-gradle-plugin/">Smithy Gradle Plugin</a> is the best way to get started
building a Smithy model. First, create a <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> file:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then create a new <code class="docutils literal notranslate"><span class="pre">build.gradle.kts</span></code> file:</p>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy&quot;</span><span class="p">).</span><span class="na">version</span><span class="p">(</span><span class="s">&quot;0.6.0&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mavenLocal</span><span class="p">()</span>
<span class="w">    </span><span class="n">mavenCentral</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy:smithy-model:1.45.0&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">configure</span><span class="o">&lt;</span><span class="n">software</span><span class="p">.</span><span class="na">amazon</span><span class="p">.</span><span class="na">smithy</span><span class="p">.</span><span class="na">gradle</span><span class="p">.</span><span class="na">SmithyExtension</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Uncomment this to use a custom projection when building the JAR.</span>
<span class="w">    </span><span class="c1">// projection = &quot;foo&quot;</span>
<span class="p">}</span>

<span class="c1">// Uncomment to disable creating a JAR.</span>
<span class="c1">//tasks[&quot;jar&quot;].enabled = false</span>
</pre></div>
</div>
<p>Finally, copy the weather model to <code class="docutils literal notranslate"><span class="pre">model/weather.smithy</span></code> and
then run <code class="docutils literal notranslate"><span class="pre">gradle</span> <span class="pre">build</span></code> (make sure you have <a class="reference external" href="https://gradle.org/install/">gradle installed</a>).</p>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">#</a></h2>
<p>That's it! We just created a simple, read-only, <code class="docutils literal notranslate"><span class="pre">Weather</span></code> service.</p>
<ol class="arabic simple">
<li>Try adding a &quot;create&quot; lifecycle operation to <code class="docutils literal notranslate"><span class="pre">City</span></code>.</li>
<li>Try adding a &quot;delete&quot; lifecycle operation to <code class="docutils literal notranslate"><span class="pre">City</span></code>.</li>
<li>Try adding <a class="reference internal" href="spec/core/http-traits.html#http-traits"><span class="std std-ref">HTTP binding traits</span></a> to the API.</li>
<li>Try adding <a class="reference internal" href="spec/core/documentation-traits.html#tags-trait"><span class="std std-ref">tags</span></a> to shapes and filtering them out with
<a class="reference internal" href="guides/building-models/build-config.html#excludeshapesbytag-transform"><span class="std std-ref">excludeShapesByTag</span></a>.</li>
</ol>
<p>There's plenty more to explore in Smithy. The
<a class="reference internal" href="spec/index.html#specification"><span class="std std-ref">Smithy specification</span></a> can teach you everything you need
to know about Smithy models. <a class="reference internal" href="guides/building-models/index.html#building-models"><span class="std std-ref">Building Smithy Models</span></a>
can teach you more about the build process, including how to use
transformations, projections, plugins, and more. For more sample build
configurations, see the <a class="reference external" href="https://github.com/awslabs/smithy-gradle-plugin/tree/main/examples">examples directory</a> of the Smithy Gradle plugin
repository.</p>
</div>
<div class="section" id="complete-example">
<h2>Complete example<a class="headerlink" href="#complete-example" title="Permalink to this heading">#</a></h2>
<p>If you followed all the steps in this guide, you should have three files, laid
out like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.
├── build.gradle.kts
├── model
│   └── weather.smithy
└── smithy-build.json
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> should have the following contents:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">build.gradle.kts</span></code> should have the following contents:</p>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy&quot;</span><span class="p">).</span><span class="na">version</span><span class="p">(</span><span class="s">&quot;0.6.0&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mavenLocal</span><span class="p">()</span>
<span class="w">    </span><span class="n">mavenCentral</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy:smithy-model:1.45.0&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">configure</span><span class="o">&lt;</span><span class="n">software</span><span class="p">.</span><span class="na">amazon</span><span class="p">.</span><span class="na">smithy</span><span class="p">.</span><span class="na">gradle</span><span class="p">.</span><span class="na">SmithyExtension</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Uncomment this to use a custom projection when building the JAR.</span>
<span class="w">    </span><span class="c1">// projection = &quot;foo&quot;</span>
<span class="p">}</span>

<span class="c1">// Uncomment to disable creating a JAR.</span>
<span class="c1">//tasks[&quot;jar&quot;].enabled = false</span>
</pre></div>
</div>
<p>Finally, the complete <code class="docutils literal notranslate"><span class="pre">weather.smithy</span></code> model should look like:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">namespace </span><span class="nc">example.weather</span>

<span class="c">/// Provides weather forecasts.</span>
<span class="nt">@paginated</span>(<span class="py">inputToken</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">outputToken</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nextToken&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">pageSize</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pageSize&quot;</span>)
<span class="kd">service </span><span class="nc">Weather</span><span class="w"> </span>{
<span class="w">    </span><span class="py">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2006-03-01&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="py">resources</span><span class="p">:</span><span class="w"> </span>[<span class="vc">City</span>]<span class="p">,</span>
<span class="w">    </span><span class="py">operations</span><span class="p">:</span><span class="w"> </span>[<span class="vc">GetCurrentTime</span>]
}

<span class="kd">resource </span><span class="nc">City</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{<span class="w"> </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="w"> </span>}<span class="p">,</span>
<span class="w">    </span><span class="py">read</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCity</span><span class="p">,</span>
<span class="w">    </span><span class="py">list</span><span class="p">:</span><span class="w"> </span><span class="vc">ListCities</span><span class="p">,</span>
<span class="w">    </span><span class="py">resources</span><span class="p">:</span><span class="w"> </span>[<span class="vc">Forecast</span>]<span class="p">,</span>
}

<span class="kd">resource </span><span class="nc">Forecast</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{<span class="w"> </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="w"> </span>}<span class="p">,</span>
<span class="w">    </span><span class="py">read</span><span class="p">:</span><span class="w"> </span><span class="vc">GetForecast</span><span class="p">,</span>
}

<span class="c">// &quot;pattern&quot; is a trait.</span>
<span class="nt">@pattern</span>(<span class="s2">&quot;^[A-Za-z0-9 ]+$&quot;</span>)
<span class="kd">string </span><span class="nc">CityId</span>

<span class="nt">@readonly</span>
<span class="kd">operation </span><span class="nc">GetCity</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCityInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCityOutput</span><span class="p">,</span>
<span class="w">    </span><span class="py">errors</span><span class="p">:</span><span class="w"> </span>[<span class="vc">NoSuchResource</span>]
}

<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">GetCityInput</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// &quot;cityId&quot; provides the identifier for the resource and</span>
<span class="w">    </span><span class="c">// has to be marked as required.</span>
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span>
}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">GetCityOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// &quot;required&quot; is used on output to indicate if the service</span>
<span class="w">    </span><span class="c">// will always provide a value for the member.</span>
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">coordinates</span><span class="p">:</span><span class="w"> </span><span class="vc">CityCoordinates</span><span class="p">,</span>
}

<span class="c">// This structure is nested within GetCityOutput.</span>
<span class="kd">structure </span><span class="nc">CityCoordinates</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">latitude</span><span class="p">:</span><span class="w"> </span><span class="vc">Float</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">longitude</span><span class="p">:</span><span class="w"> </span><span class="vc">Float</span><span class="p">,</span>
}

<span class="c">// &quot;error&quot; is a trait that is used to specialize</span>
<span class="c">// a structure as an error.</span>
<span class="nt">@error</span>(<span class="s2">&quot;client&quot;</span>)
<span class="kd">structure </span><span class="nc">NoSuchResource</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">resourceType</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="c">// The paginated trait indicates that the operation may</span>
<span class="c">// return truncated results.</span>
<span class="nt">@readonly</span>
<span class="nt">@paginated</span>(<span class="py">items</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;items&quot;</span>)
<span class="kd">operation </span><span class="nc">ListCities</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">ListCitiesInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">ListCitiesOutput</span>
}

<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">ListCitiesInput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">nextToken</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
<span class="w">    </span><span class="py">pageSize</span><span class="p">:</span><span class="w"> </span><span class="vc">Integer</span>
}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">ListCitiesOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">nextToken</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">items</span><span class="p">:</span><span class="w"> </span><span class="vc">CitySummaries</span><span class="p">,</span>
}

<span class="c">// CitySummaries is a list of CitySummary structures.</span>
<span class="kd">list </span><span class="nc">CitySummaries</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">CitySummary</span>
}

<span class="c">// CitySummary contains a reference to a City.</span>
<span class="nt">@references</span>([{<span class="py">resource</span><span class="p">:</span><span class="w"> </span><span class="vc">City</span>}])
<span class="kd">structure </span><span class="nc">CitySummary</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
}

<span class="nt">@readonly</span>
<span class="kd">operation </span><span class="nc">GetCurrentTime</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCurrentTimeInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">GetCurrentTimeOutput</span>
}

<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">GetCurrentTimeInput</span><span class="w"> </span>{}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">GetCurrentTimeOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">time</span><span class="p">:</span><span class="w"> </span><span class="vc">Timestamp</span>
}

<span class="nt">@readonly</span>
<span class="kd">operation </span><span class="nc">GetForecast</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">GetForecastInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">GetForecastOutput</span>
}

<span class="c">// &quot;cityId&quot; provides the only identifier for the resource since</span>
<span class="c">// a Forecast doesn&#39;t have its own.</span>
<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">GetForecastInput</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">cityId</span><span class="p">:</span><span class="w"> </span><span class="vc">CityId</span><span class="p">,</span>
}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">GetForecastOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">chanceOfRain</span><span class="p">:</span><span class="w"> </span><span class="vc">Float</span>
}
</pre></div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="spec/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Specifications</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Amazon Web Services
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/awslabs/smithy" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Quick start</a><ul>
<li><a class="reference internal" href="#what-is-smithy">What is Smithy?</a></li>
<li><a class="reference internal" href="#shapes-and-traits">Shapes and traits</a></li>
<li><a class="reference internal" href="#weather-service">Weather Service</a></li>
<li><a class="reference internal" href="#defining-resources">Defining resources</a></li>
<li><a class="reference internal" href="#defining-operations">Defining operations</a></li>
<li><a class="reference internal" href="#listing-resources">Listing resources</a></li>
<li><a class="reference internal" href="#non-lifecycle-operations">Non-Lifecycle Operations</a></li>
<li><a class="reference internal" href="#building-the-model">Building the Model</a></li>
<li><a class="reference internal" href="#next-steps">Next steps</a></li>
<li><a class="reference internal" href="#complete-example">Complete example</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    </body>
</html>