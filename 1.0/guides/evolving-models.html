<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Style Guide" href="style-guide.html" /><link rel="prev" title="Model linters" href="model-linters.html" />

    <link rel="shortcut icon" href="../_static/favicon.svg"/><meta name="generator" content="sphinx-5.3.0, furo 2022.06.21"/>
        <title>Evolving Models - Smithy 1.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 100%;
  --admonition-title-font-size: 100%;
  --color-brand-primary: #C44536;
  --color-brand-content: #00808b;
  --color-announcement-background: #f8f8f8;
  --color-announcement-text: #383838;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: ##1a1c1e;;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: ##1a1c1e;;
  
      }
    }
  }
</style><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js"></script>
<script src="https://d2c.aws.amazon.com/client/loader/v1/d2c-load.js"></script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     <strong>⚠️ You are viewing version 1.0.</strong><br/>
Version 2.0 is available at <a href="https://smithy.io/2.0/">https://smithy.io/2.0/</a>. 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Smithy 1.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="/index.html">
  
  <div class="sidebar-brand-icon">
    <img class="sidebar-logo only-light" src="../_static/smithy.svg" alt="Logo">
    <img class="sidebar-logo only-dark" src="../_static/smithy-dark.svg" alt="Logo">
  </div>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../spec/index.html">Specifications</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../spec/core/index.html">Smithy specification</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/model.html">1. The Smithy model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/prelude-model.html">2. Prelude model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/constraint-traits.html">3. Constraint traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/documentation-traits.html">4. Documentation traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/type-refinement-traits.html">5. Type refinement traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/protocol-traits.html">6. Protocol traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/auth-traits.html">7. Authentication traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/behavior-traits.html">8. Behavior traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/resource-traits.html">9. Resource traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/stream-traits.html">10. Streaming Traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/http-traits.html">11. HTTP binding traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/xml-traits.html">12. XML binding traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/endpoint-traits.html">13. Endpoint Traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/selectors.html">14. Selectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/model-validation.html">15. Model validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/idl.html">16. Smithy IDL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/core/json-ast.html">17. JSON AST</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../spec/http-protocol-compliance-tests.html">HTTP Protocol Compliance Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spec/waiters.html">Waiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spec/mqtt.html">MQTT Protocol Bindings</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../spec/aws/index.html">AWS specifications</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-core.html">AWS Core Specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-auth.html">AWS Authentication Traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-iam.html">AWS IAM traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/amazon-apigateway.html">Amazon API Gateway traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-cloudformation.html">AWS CloudFormation traits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-restjson1-protocol.html">AWS restJson1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-json-1_0-protocol.html">AWS JSON 1.0 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-json-1_1-protocol.html">AWS JSON 1.1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-restxml-protocol.html">AWS restXml protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-query-protocol.html">AWS query protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spec/aws/aws-ec2-query-protocol.html">AWS EC2 query protocol</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../spec/aws/customizations/index.html">AWS Service Customizations</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../spec/aws/customizations/apigateway-customizations.html">Amazon API Gateway Customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spec/aws/customizations/glacier-customizations.html">Amazon Glacier Customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spec/aws/customizations/machinelearning-customizations.html">Amazon Machine Learning Customizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spec/aws/customizations/s3-customizations.html">Amazon S3 Customizations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Smithy Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="building-models/index.html">Building Smithy Models</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="building-models/gradle-plugin.html">Smithy Gradle Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="building-models/build-config.html">smithy-build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-linters.html">Model linters</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Evolving Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="style-guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="converting-to-openapi.html">Converting Smithy to OpenAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="generating-cloudformation-resources.html">Generating CloudFormation Resource Schemas from Smithy</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Implementations</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/2.0/implementations.html">Implementations</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ts-ssdk/index.html">Server Generator for TypeScript</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/introduction.html">Introduction to the Smithy Server Generator for TypeScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/handlers.html">Smithy Server Generator for TypeScript handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/validation.html">Smithy Server Generator for TypeScript validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/error-handling.html">Smithy Server Generator for TypeScript error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/supported-endpoints.html">Smithy Server Generator for TypeScript supported endpoints</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy">Source code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/2.0/">2.0 Documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/smithy-lang/smithy/edit/main/docs/source-1.0/guides/evolving-models.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="evolving-models">
<h1>Evolving Models<a class="headerlink" href="#evolving-models" title="Permalink to this heading">#</a></h1>
<p>This guide describes how to evolve Smithy models without breaking your
customers.</p>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This page does not include every possible backwards or forwards
compatible change. For traits, the best place to look for compatibility
is the specification for the trait or its model definition as defined by
the <a class="reference internal" href="../spec/core/model.html#trait-breaking-change-rules"><span class="std std-ref">breaking changes property</span></a>.</p>
</div>
</div></blockquote>
<div class="section" id="updating-services">
<h2>Updating services<a class="headerlink" href="#updating-services" title="Permalink to this heading">#</a></h2>
<p>The following changes to operation shapes are backward-compatible:</p>
<ol class="arabic simple">
<li>Adding operations.</li>
<li>Adding resources.</li>
</ol>
<p>The following changes are not backward-compatible:</p>
<ol class="arabic simple">
<li>Removing a resource or operation.</li>
<li>Renaming a shape that was already part of the service.</li>
</ol>
</div>
<div class="section" id="updating-operations">
<h2>Updating operations<a class="headerlink" href="#updating-operations" title="Permalink to this heading">#</a></h2>
<p>The following changes to operation shapes are backward-compatible:</p>
<ol class="arabic simple">
<li>Adding a new error shape if the error shape is only encountered under new
conditions that previously released clients/tools will not encounter.</li>
</ol>
<p>The following changes are not backward-compatible:</p>
<ol class="arabic simple">
<li>Changing the shape targeted by the input or output of an operation. For
example, it is not backward compatible to change an operation's input or
output from targeting <cite>smithy.api#Unit</cite> to then later target a different
shape.</li>
<li>Removing or renaming a resource or operation.</li>
<li>Removing an operation from a service or resource.</li>
<li>Removing a resource from a service.</li>
<li>Changing an operation from referencing an input/output structure to no
longer referencing an input/output structure.</li>
<li>Renaming an error that is referenced by an operation.</li>
<li>The addition, removal, or modification of traits applied to an operation or
members of the input/output of an operation MAY result in a breaking change
if it changes the wire representation of an operation or breaks behavior
that was previously relied upon by tooling.</li>
</ol>
</div>
<div class="section" id="updating-structures">
<h2>Updating structures<a class="headerlink" href="#updating-structures" title="Permalink to this heading">#</a></h2>
<p>The following changes to structure shapes are backward-compatible:</p>
<ol class="arabic simple">
<li>Adding new optional members to a structure.</li>
<li>Removing the <a class="reference internal" href="../spec/core/constraint-traits.html#required-trait"><span class="std std-ref">required trait</span></a> from a structure member marked with
the <a class="reference internal" href="../spec/core/type-refinement-traits.html#input-trait"><span class="std std-ref">input trait</span></a>.</li>
</ol>
<p>The following changes to a structure are not backward-compatible:</p>
<ol class="arabic simple">
<li>Renaming a member.</li>
<li>Removing a member.</li>
<li>Changing the shape targeted by a member.</li>
<li>Adding the required trait to a member.</li>
</ol>
</div>
<div class="section" id="booleans-and-api-evolution">
<h2>Booleans and API evolution<a class="headerlink" href="#booleans-and-api-evolution" title="Permalink to this heading">#</a></h2>
<p>A boolean shape is often used to model state flags; however, consider whether
or not the state of a resource is actually binary. If other states can be
added in the future, it is often better to use a string shape with an
<a class="reference internal" href="../spec/core/constraint-traits.html#enum-trait"><span class="std std-ref">enum trait</span></a> or a union shape.</p>
</div>
<div class="section" id="updating-unions">
<h2>Updating unions<a class="headerlink" href="#updating-unions" title="Permalink to this heading">#</a></h2>
<p>The following changes to union shapes are backward-compatible:</p>
<ol class="arabic simple">
<li>Adding a new member to a union. Unions in Smithy are considered &quot;open&quot;;
it is a backward-compatible change to add new members to a union. Smithy
clients SHOULD anticipate and account for receiving unknown members for
a union in a response from a service at runtime. Clients SHOULD NOT fail
when receiving unknown members from a service.</li>
</ol>
<p>The following changes are backward-incompatible:</p>
<ol class="arabic simple">
<li>Renaming a union member.</li>
<li>Removing a union member.</li>
<li>Changing the shape targeted by a union member.</li>
</ol>
</div>
<div class="section" id="boxed-shapes">
<h2>Boxed shapes<a class="headerlink" href="#boxed-shapes" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="../spec/core/type-refinement-traits.html#box-trait"><span class="std std-ref">box trait</span></a> is used to influence code generation in various
programming languages. It is a backward-incompatible change for the <code class="docutils literal notranslate"><span class="pre">box</span></code>
trait to be added or removed from a shape because it will affect types
generated by tooling that uses Smithy models.</p>
</div>
<div class="section" id="sparse-lists-and-maps">
<h2>Sparse lists and maps<a class="headerlink" href="#sparse-lists-and-maps" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="../spec/core/type-refinement-traits.html#sparse-trait"><span class="std std-ref">sparse trait</span></a> is used to influence code generation in various
programming languages. It is a backward-incompatible change for the <code class="docutils literal notranslate"><span class="pre">sparse</span></code>
trait to be added or removed from a shape because it will affect types
generated by tooling that uses Smithy models.</p>
</div>
<div class="section" id="updating-traits">
<h2>Updating traits<a class="headerlink" href="#updating-traits" title="Permalink to this heading">#</a></h2>
<p>The following changes to trait definitions are backward compatible:</p>
<ol class="arabic simple">
<li>Relaxing the selector of a trait.</li>
<li>Removing a trait from the <code class="docutils literal notranslate"><span class="pre">conflicts</span></code> list.</li>
<li>Removing the <code class="docutils literal notranslate"><span class="pre">structurallyExclusive</span></code> property.</li>
<li>Marking a trait as deprecated.</li>
</ol>
</div>
<div class="section" id="using-smithy-diff">
<h2>Using Smithy Diff<a class="headerlink" href="#using-smithy-diff" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://github.com/smithy-lang/smithy/tree/main/smithy-diff">Smithy Diff</a> is a
tool used to compare two Smithy models to check for backward compatibility
issues. Smithy Diff can be run via a Java library or via the Smithy CLI.</p>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="style-guide.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Style Guide</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="model-linters.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Model linters</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Amazon Web Services
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/smithy-lang/smithy" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Evolving Models</a><ul>
<li><a class="reference internal" href="#updating-services">Updating services</a></li>
<li><a class="reference internal" href="#updating-operations">Updating operations</a></li>
<li><a class="reference internal" href="#updating-structures">Updating structures</a></li>
<li><a class="reference internal" href="#booleans-and-api-evolution">Booleans and API evolution</a></li>
<li><a class="reference internal" href="#updating-unions">Updating unions</a></li>
<li><a class="reference internal" href="#boxed-shapes">Boxed shapes</a></li>
<li><a class="reference internal" href="#sparse-lists-and-maps">Sparse lists and maps</a></li>
<li><a class="reference internal" href="#updating-traits">Updating traits</a></li>
<li><a class="reference internal" href="#using-smithy-diff">Using Smithy Diff</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    </body>
</html>