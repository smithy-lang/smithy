<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="19. JSON AST" href="json-ast.html" /><link rel="prev" title="17. Model validation" href="model-validation.html" />

    <link rel="shortcut icon" href="../_static/favicon.svg"/><meta name="generator" content="sphinx-5.3.0, furo 2022.06.21"/>
        <title>18. Smithy IDL - Smithy 2.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 100%;
  --admonition-title-font-size: 100%;
  --color-brand-primary: #C44536;
  --color-brand-content: #00808b;
  --color-announcement-background: #f8f8f8;
  --color-announcement-text: #383838;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: ##1a1c1e;;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: ##1a1c1e;;
  
      }
    }
  }
</style><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js"></script>
<script src="https://d2c.aws.amazon.com/client/loader/v1/d2c-load.js"></script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Smithy 2.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/smithy.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/smithy-dark.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Smithy specification</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="model.html">1. The Smithy model</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple-types.html">2. Simple types</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregate-types.html">3. Aggregate types</a></li>
<li class="toctree-l2"><a class="reference internal" href="service-types.html">4. Service types</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixins.html">5. Mixins</a></li>
<li class="toctree-l2"><a class="reference internal" href="constraint-traits.html">6. Constraint traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="type-refinement-traits.html">7. Type refinement traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation-traits.html">8. Documentation traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="behavior-traits.html">9. Behavior traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="resource-traits.html">10. Resource traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication-traits.html">11. Authentication traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocol-traits.html">12. Serialization and Protocol traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="streaming.html">13. Streaming</a></li>
<li class="toctree-l2"><a class="reference internal" href="http-bindings.html">14. HTTP bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-traits.html">15. Endpoint traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="selectors.html">16. Selectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-validation.html">17. Model validation</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">18. Smithy IDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="json-ast.html">19. JSON AST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../trait-index.html">Trait index</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">Guides</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/smithy-cli/index.html">The Smithy CLI</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/smithy-cli/cli_installation.html">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/smithy-build-json.html">smithy-build.json</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/gradle-plugin/index.html">Smithy Gradle Plugins</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/gradle-plugin/gradle-migration-guide.html">Migrating to Gradle plugin version 0.10.0+</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/using-code-generation/index.html">Code Generation</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-code-generation/update-model.html">Updating the Smithy Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-code-generation/generating-a-client.html">Generating a client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/model-linters.html">Linting Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/model-validation-examples.html">Model Validation Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/evolving-models.html">Evolving Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/style-guide.html">Style Guide</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/model-translations/index.html">Model Translations</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/model-translations/converting-to-openapi.html">Converting Smithy to OpenAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/model-translations/migrating-idl-1-to-2.html">Smithy IDL 1.0 to 2.0 Migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/model-translations/generating-cloudformation-resources.html">Generating CloudFormation Resource Schemas from Smithy</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/building-codegen/index.html">Creating a Code Generator</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/overview-and-concepts.html">Overview and Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/mapping-shapes-to-languages.html">Mapping Smithy Shapes to Your Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/creating-codegen-repo.html">Creating a Codegen Repo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/configuring-the-generator.html">Configuring the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/implementing-the-generator.html">Implementing the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/making-codegen-pluggable.html">Making Codegen Pluggable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/generating-code.html">Generating Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/decoupling-codegen-with-symbols.html">Decoupling Codegen with Symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/using-the-semantic-model.html">Using the Semantic Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/full-stack-tutorial.html">Full Stack Application</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../additional-specs/index.html">Additional specs</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/http-protocol-compliance-tests.html">HTTP Protocol Compliance Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/smoke-tests.html">Smoke Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/waiters.html">Waiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/mqtt.html">MQTT Protocol Bindings</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../additional-specs/rules-engine/index.html">Rules engine</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/rules-engine/specification.html">Rules engine specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/rules-engine/parameters.html">Rules engine parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/rules-engine/standard-library.html">Rules engine standard library</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../additional-specs/protocols/index.html">Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/protocols/smithy-rpc-v2.html">Smithy RPC v2 CBOR protocol</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../aws/index.html">AWS integrations</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-core.html">AWS Core Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-auth.html">AWS Authentication Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-endpoints-region.html">AWS Declarative Endpoint Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-iam.html">AWS IAM traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/amazon-apigateway.html">Amazon API Gateway traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-cloudformation.html">AWS CloudFormation Traits</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/protocols/index.html">AWS Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-restjson1-protocol.html">AWS restJson1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-json-1_0-protocol.html">AWS JSON 1.0 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-json-1_1-protocol.html">AWS JSON 1.1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-restxml-protocol.html">AWS restXml protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-query-protocol.html">AWS query protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-ec2-query-protocol.html">AWS EC2 query protocol</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/customizations/index.html">AWS Service Customizations</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/apigateway-customizations.html">Amazon API Gateway Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/glacier-customizations.html">Amazon Glacier Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/machinelearning-customizations.html">Amazon Machine Learning Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/s3-customizations.html">Amazon S3 Customizations</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/rules-engine/index.html">AWS rules engine extensions</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/rules-engine/built-ins.html">AWS rules engine built-ins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/rules-engine/library-functions.html">AWS rules engine library functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/rules-engine/auth-schemes.html">AWS rules engine authentication scheme validators</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ts-ssdk/index.html">Smithy Server Generator for TypeScript</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/introduction.html">Introduction to the Smithy Server Generator for TypeScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/handlers.html">Smithy Server Generator for TypeScript handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/validation.html">Smithy Server Generator for TypeScript validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/error-handling.html">Smithy Server Generator for TypeScript error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/supported-endpoints.html">Smithy Server Generator for TypeScript supported endpoints</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Languages</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../java/index.html">Java</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../java/quickstart.html">Java Quickstart</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../java/client/index.html">Client User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../java/client/generating-clients.html">Generating Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java/client/codegen-integrations.html">Codegen Integrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java/client/dynamic-client.html">Dynamic Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java/client/configuration.html">Configuring Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java/client/customization.html">Customizing Client Behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../java/client/plugins.html">Client Plugins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-java">Source code</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-java/tree/0.0.1/examples">Smithy Java Examples</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy">Source code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/awesome-smithy">Awesome Smithy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy-examples">Smithy Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/1.0/">1.0 Documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/awslabs/smithy/edit/main/docs/source-2.0/spec/idl.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="smithy-idl">
<span id="idl"></span><h1><span class="section-number">18. </span>Smithy IDL<a class="headerlink" href="#smithy-idl" title="Permalink to this heading">#</a></h1>
<p>Smithy models are defined using either the Smithy interface definition language
(IDL) or the <a class="reference internal" href="json-ast.html#json-ast"><span class="std std-ref">JSON abstract syntax tree</span></a> (AST). This document
defines the <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5234.html"><strong>ABNF</strong></a> grammar and syntax for defining models with the
Smithy IDL.</p>
<div class="section" id="smithy-idl-overview">
<h2><span class="section-number">18.1. </span>Smithy IDL overview<a class="headerlink" href="#smithy-idl-overview" title="Permalink to this heading">#</a></h2>
<p>The Smithy IDL is made up of 3, ordered sections, each of which is optional:</p>
<ol class="arabic simple">
<li><strong>Control section</strong>; defines parser directives like which version of the
IDL to use.</li>
<li><strong>Metadata section</strong>; applies metadata to the entire model.</li>
<li><strong>Shape section</strong>; where shapes and traits are defined. A namespace MUST
be defined before any shapes or traits can be defined.
<a class="reference internal" href="#grammar-token-smithy-UseStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:UseStatement</span></code></a>s can be defined after a namespace and before shapes
or traits to refer to shapes in other namespaces using a shorter name.</li>
</ol>
<p>The following example defines a model file with each section:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="c">// (1) Control section</span>
<span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>

<span class="c">// (2) Metadata section</span>
<span class="kd">metadata </span><span class="nc">foo </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>

<span class="c">// (3) Shape section</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">use </span><span class="nc">smithy.other.namespace#MyString</span>

<span class="kd">structure </span><span class="nc">MyStructure</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">MyString</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span>{
<span class="w">    </span><span class="s2">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span>{
<span class="w">        </span><span class="s2">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>
<span class="w">    </span>}<span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span>{
<span class="w">        </span><span class="s2">&quot;smithy.example#MyStructure&quot;</span><span class="p">:</span><span class="w"> </span>{
<span class="w">            </span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;structure&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;members&quot;</span><span class="p">:</span><span class="w"> </span>{
<span class="w">                </span><span class="s2">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span>{
<span class="w">                    </span><span class="s2">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.other.namespace#MyString&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="s2">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span>{
<span class="w">                        </span><span class="s2">&quot;smithy.api#required&quot;</span><span class="p">:</span><span class="w"> </span>{}
<span class="w">                    </span>}
<span class="w">                </span>}
<span class="w">            </span>}
<span class="w">        </span>}
<span class="w">    </span>}
}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="lexical-notes">
<h2><span class="section-number">18.2. </span>Lexical notes<a class="headerlink" href="#lexical-notes" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li>Smithy models MUST be encoded using UTF-8 and SHOULD use Unix style
line endings (<code class="docutils literal notranslate"><span class="pre">\n</span></code>).</li>
<li>The Smithy ABNF is whitespace sensitive.</li>
<li>Except for within strings, commas in the Smithy IDL are considered
whitespace. Commas can be used anywhere where they make the model
easier to read (for example, in complex traits defined on a single line).</li>
</ul>
</div>
<div class="section" id="smithy-idl-abnf">
<span id="id1"></span><h2><span class="section-number">18.3. </span>Smithy IDL ABNF<a class="headerlink" href="#smithy-idl-abnf" title="Permalink to this heading">#</a></h2>
<p>The Smithy IDL is defined by the following ABNF which uses case-sensitive
string support defined in <span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7405.html"><strong>RFC 7405</strong></a>.</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-idl">idl</strong> =
    [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-ControlSection"><code class="xref docutils literal notranslate"><span class="pre">ControlSection</span></code></a> <a class="reference internal" href="#grammar-token-smithy-MetadataSection"><code class="xref docutils literal notranslate"><span class="pre">MetadataSection</span></code></a> <a class="reference internal" href="#grammar-token-smithy-ShapeSection"><code class="xref docutils literal notranslate"><span class="pre">ShapeSection</span></code></a>
</pre>
<p class="rubric">Whitespace</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-WS">WS</strong> =
    1*(<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-NL"><code class="xref docutils literal notranslate"><span class="pre">NL</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-Comment"><code class="xref docutils literal notranslate"><span class="pre">Comment</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-Comma"><code class="xref docutils literal notranslate"><span class="pre">Comma</span></code></a>) ; whitespace

<strong id="grammar-token-smithy-Comma">Comma</strong> =
    &quot;,&quot;

<strong id="grammar-token-smithy-SP">SP</strong> =
    1*(%x20 / %x09) ; one or more spaces or tabs

<strong id="grammar-token-smithy-NL">NL</strong> =
    %x0A / %x0D.0A ; Newline: \n and \r\n

<strong id="grammar-token-smithy-NotNL">NotNL</strong> =
    %x09 / %x20-10FFFF ; Any character except newline

<strong id="grammar-token-smithy-BR">BR</strong> =
    [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] 1*(<a class="reference internal" href="#grammar-token-smithy-Comment"><code class="xref docutils literal notranslate"><span class="pre">Comment</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-NL"><code class="xref docutils literal notranslate"><span class="pre">NL</span></code></a>) [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]; line break followed by whitespace
</pre>
<p class="rubric">Comments</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-Comment">Comment</strong> =
    <a class="reference internal" href="#grammar-token-smithy-DocumentationComment"><code class="xref docutils literal notranslate"><span class="pre">DocumentationComment</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-LineComment"><code class="xref docutils literal notranslate"><span class="pre">LineComment</span></code></a>

<strong id="grammar-token-smithy-DocumentationComment">DocumentationComment</strong> =
    &quot;///&quot; *<a class="reference internal" href="#grammar-token-smithy-NotNL"><code class="xref docutils literal notranslate"><span class="pre">NotNL</span></code></a> <a class="reference internal" href="#grammar-token-smithy-NL"><code class="xref docutils literal notranslate"><span class="pre">NL</span></code></a>

<strong id="grammar-token-smithy-LineComment">LineComment</strong> =
    &quot;//&quot; [(%x09 / %x20-2E / %x30-10FFF) *<a class="reference internal" href="#grammar-token-smithy-NotNL"><code class="xref docutils literal notranslate"><span class="pre">NotNL</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-NL"><code class="xref docutils literal notranslate"><span class="pre">NL</span></code></a>
    ; First character after &quot;//&quot; can't be &quot;/&quot;
</pre>
<p class="rubric">Control</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-ControlSection">ControlSection</strong> =
    *(<a class="reference internal" href="#grammar-token-smithy-ControlStatement"><code class="xref docutils literal notranslate"><span class="pre">ControlStatement</span></code></a>)

<strong id="grammar-token-smithy-ControlStatement">ControlStatement</strong> =
    &quot;$&quot; <a class="reference internal" href="#grammar-token-smithy-NodeObjectKey"><code class="xref docutils literal notranslate"><span class="pre">NodeObjectKey</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] &quot;:&quot; [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref docutils literal notranslate"><span class="pre">NodeValue</span></code></a> <a class="reference internal" href="#grammar-token-smithy-BR"><code class="xref docutils literal notranslate"><span class="pre">BR</span></code></a>
</pre>
<p class="rubric">Metadata</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-MetadataSection">MetadataSection</strong> =
    *(<a class="reference internal" href="#grammar-token-smithy-MetadataStatement"><code class="xref docutils literal notranslate"><span class="pre">MetadataStatement</span></code></a>)

<strong id="grammar-token-smithy-MetadataStatement">MetadataStatement</strong> =
    %s&quot;metadata&quot; <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="#grammar-token-smithy-NodeObjectKey"><code class="xref docutils literal notranslate"><span class="pre">NodeObjectKey</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] &quot;=&quot; [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref docutils literal notranslate"><span class="pre">NodeValue</span></code></a> <a class="reference internal" href="#grammar-token-smithy-BR"><code class="xref docutils literal notranslate"><span class="pre">BR</span></code></a>
</pre>
<p class="rubric">Node values</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-NodeValue">NodeValue</strong> =
    <a class="reference internal" href="#grammar-token-smithy-NodeArray"><code class="xref docutils literal notranslate"><span class="pre">NodeArray</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-NodeObject"><code class="xref docutils literal notranslate"><span class="pre">NodeObject</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-Number"><code class="xref docutils literal notranslate"><span class="pre">Number</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-NodeKeyword"><code class="xref docutils literal notranslate"><span class="pre">NodeKeyword</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-NodeStringValue"><code class="xref docutils literal notranslate"><span class="pre">NodeStringValue</span></code></a>

<strong id="grammar-token-smithy-NodeArray">NodeArray</strong> =
    &quot;[&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] *(<a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref docutils literal notranslate"><span class="pre">NodeValue</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]) &quot;]&quot;

<strong id="grammar-token-smithy-NodeObject">NodeObject</strong> =
    &quot;{&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-NodeObjectKvp"><code class="xref docutils literal notranslate"><span class="pre">NodeObjectKvp</span></code></a> *(<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a> <a class="reference internal" href="#grammar-token-smithy-NodeObjectKvp"><code class="xref docutils literal notranslate"><span class="pre">NodeObjectKvp</span></code></a>)] [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] &quot;}&quot;

<strong id="grammar-token-smithy-NodeObjectKvp">NodeObjectKvp</strong> =
    <a class="reference internal" href="#grammar-token-smithy-NodeObjectKey"><code class="xref docutils literal notranslate"><span class="pre">NodeObjectKey</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] &quot;:&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref docutils literal notranslate"><span class="pre">NodeValue</span></code></a>

<strong id="grammar-token-smithy-NodeObjectKey">NodeObjectKey</strong> =
    <a class="reference internal" href="#grammar-token-smithy-QuotedText"><code class="xref docutils literal notranslate"><span class="pre">QuotedText</span></code></a> / <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a>

<strong id="grammar-token-smithy-Number">Number</strong> =
    [<a class="reference internal" href="#grammar-token-smithy-Minus"><code class="xref docutils literal notranslate"><span class="pre">Minus</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-Int"><code class="xref docutils literal notranslate"><span class="pre">Int</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-Frac"><code class="xref docutils literal notranslate"><span class="pre">Frac</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-Exp"><code class="xref docutils literal notranslate"><span class="pre">Exp</span></code></a>]

<strong id="grammar-token-smithy-DecimalPoint">DecimalPoint</strong> =
    %x2E ; .

<strong id="grammar-token-smithy-DigitOneToNine">DigitOneToNine</strong> =
    %x31-39 ; 1-9

<strong id="grammar-token-smithy-E">E</strong> =
    %x65 / %x45 ; e E

<strong id="grammar-token-smithy-Exp">Exp</strong> =
    <a class="reference internal" href="#grammar-token-smithy-E"><code class="xref docutils literal notranslate"><span class="pre">E</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-Minus"><code class="xref docutils literal notranslate"><span class="pre">Minus</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-Plus"><code class="xref docutils literal notranslate"><span class="pre">Plus</span></code></a>] 1*DIGIT

<strong id="grammar-token-smithy-Frac">Frac</strong> =
    <a class="reference internal" href="#grammar-token-smithy-DecimalPoint"><code class="xref docutils literal notranslate"><span class="pre">DecimalPoint</span></code></a> 1*DIGIT

<strong id="grammar-token-smithy-Int">Int</strong> =
    <a class="reference internal" href="#grammar-token-smithy-Zero"><code class="xref docutils literal notranslate"><span class="pre">Zero</span></code></a> / (<a class="reference internal" href="#grammar-token-smithy-DigitOneToNine"><code class="xref docutils literal notranslate"><span class="pre">DigitOneToNine</span></code></a> *DIGIT)

<strong id="grammar-token-smithy-Minus">Minus</strong> =
    %x2D ; -

<strong id="grammar-token-smithy-Plus">Plus</strong> =
    %x2B ; +

<strong id="grammar-token-smithy-Zero">Zero</strong> =
    %x30 ; 0

<strong id="grammar-token-smithy-NodeKeyword">NodeKeyword</strong> =
    %s&quot;true&quot; / %s&quot;false&quot; / %s&quot;null&quot;

<strong id="grammar-token-smithy-NodeStringValue">NodeStringValue</strong> =
    <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-TextBlock"><code class="xref docutils literal notranslate"><span class="pre">TextBlock</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-QuotedText"><code class="xref docutils literal notranslate"><span class="pre">QuotedText</span></code></a>

<strong id="grammar-token-smithy-QuotedText">QuotedText</strong> =
    DQUOTE *<a class="reference internal" href="#grammar-token-smithy-QuotedChar"><code class="xref docutils literal notranslate"><span class="pre">QuotedChar</span></code></a> DQUOTE

<strong id="grammar-token-smithy-QuotedChar">QuotedChar</strong> =
    %x09        ; tab
  / %x20-21     ; space - &quot;!&quot;
  / %x23-5B     ; &quot;#&quot; - &quot;[&quot;
  / %x5D-10FFFF ; &quot;]&quot;+
  / <a class="reference internal" href="#grammar-token-smithy-EscapedChar"><code class="xref docutils literal notranslate"><span class="pre">EscapedChar</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-NL"><code class="xref docutils literal notranslate"><span class="pre">NL</span></code></a>

<strong id="grammar-token-smithy-EscapedChar">EscapedChar</strong> =
    <a class="reference internal" href="#grammar-token-smithy-Escape"><code class="xref docutils literal notranslate"><span class="pre">Escape</span></code></a> (<a class="reference internal" href="#grammar-token-smithy-Escape"><code class="xref docutils literal notranslate"><span class="pre">Escape</span></code></a> / DQUOTE / %s&quot;b&quot; / %s&quot;f&quot;
             / %s&quot;n&quot; / %s&quot;r&quot; / %s&quot;t&quot; / &quot;/&quot;
             / <a class="reference internal" href="#grammar-token-smithy-UnicodeEscape"><code class="xref docutils literal notranslate"><span class="pre">UnicodeEscape</span></code></a>)

<strong id="grammar-token-smithy-UnicodeEscape">UnicodeEscape</strong> =
    %s&quot;u&quot; <a class="reference internal" href="#grammar-token-smithy-Hex"><code class="xref docutils literal notranslate"><span class="pre">Hex</span></code></a> <a class="reference internal" href="#grammar-token-smithy-Hex"><code class="xref docutils literal notranslate"><span class="pre">Hex</span></code></a> <a class="reference internal" href="#grammar-token-smithy-Hex"><code class="xref docutils literal notranslate"><span class="pre">Hex</span></code></a> <a class="reference internal" href="#grammar-token-smithy-Hex"><code class="xref docutils literal notranslate"><span class="pre">Hex</span></code></a>

<strong id="grammar-token-smithy-Hex">Hex</strong> =
    DIGIT / %x41-46 / %x61-66

<strong id="grammar-token-smithy-Escape">Escape</strong> =
    %x5C ; backslash

<strong id="grammar-token-smithy-TextBlock">TextBlock</strong> =
    <a class="reference internal" href="#grammar-token-smithy-ThreeDquotes"><code class="xref docutils literal notranslate"><span class="pre">ThreeDquotes</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-NL"><code class="xref docutils literal notranslate"><span class="pre">NL</span></code></a> *<a class="reference internal" href="#grammar-token-smithy-TextBlockContent"><code class="xref docutils literal notranslate"><span class="pre">TextBlockContent</span></code></a> <a class="reference internal" href="#grammar-token-smithy-ThreeDquotes"><code class="xref docutils literal notranslate"><span class="pre">ThreeDquotes</span></code></a>

<strong id="grammar-token-smithy-TextBlockContent">TextBlockContent</strong> =
    <a class="reference internal" href="#grammar-token-smithy-QuotedChar"><code class="xref docutils literal notranslate"><span class="pre">QuotedChar</span></code></a> / (1*2DQUOTE 1*<a class="reference internal" href="#grammar-token-smithy-QuotedChar"><code class="xref docutils literal notranslate"><span class="pre">QuotedChar</span></code></a>)

<strong id="grammar-token-smithy-ThreeDquotes">ThreeDquotes</strong> =
    DQUOTE DQUOTE DQUOTE
</pre>
<p class="rubric">Shapes</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-ShapeSection">ShapeSection</strong> =
    [<a class="reference internal" href="#grammar-token-smithy-NamespaceStatement"><code class="xref docutils literal notranslate"><span class="pre">NamespaceStatement</span></code></a> <a class="reference internal" href="#grammar-token-smithy-UseSection"><code class="xref docutils literal notranslate"><span class="pre">UseSection</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-ShapeStatements"><code class="xref docutils literal notranslate"><span class="pre">ShapeStatements</span></code></a>]]

<strong id="grammar-token-smithy-NamespaceStatement">NamespaceStatement</strong> =
    %s&quot;namespace&quot; <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-Namespace"><code class="xref docutils literal notranslate"><span class="pre">Namespace</span></code></a> <a class="reference internal" href="#grammar-token-smithy-BR"><code class="xref docutils literal notranslate"><span class="pre">BR</span></code></a>

<strong id="grammar-token-smithy-UseSection">UseSection</strong> =
    *(<a class="reference internal" href="#grammar-token-smithy-UseStatement"><code class="xref docutils literal notranslate"><span class="pre">UseStatement</span></code></a>)

<strong id="grammar-token-smithy-UseStatement">UseStatement</strong> =
    %s&quot;use&quot; <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-AbsoluteRootShapeId"><code class="xref docutils literal notranslate"><span class="pre">AbsoluteRootShapeId</span></code></a> <a class="reference internal" href="#grammar-token-smithy-BR"><code class="xref docutils literal notranslate"><span class="pre">BR</span></code></a>

<strong id="grammar-token-smithy-ShapeStatements">ShapeStatements</strong> =
    <a class="reference internal" href="#grammar-token-smithy-ShapeOrApplyStatement"><code class="xref docutils literal notranslate"><span class="pre">ShapeOrApplyStatement</span></code></a> *(<a class="reference internal" href="#grammar-token-smithy-BR"><code class="xref docutils literal notranslate"><span class="pre">BR</span></code></a> <a class="reference internal" href="#grammar-token-smithy-ShapeOrApplyStatement"><code class="xref docutils literal notranslate"><span class="pre">ShapeOrApplyStatement</span></code></a>)

<strong id="grammar-token-smithy-ShapeOrApplyStatement">ShapeOrApplyStatement</strong> =
    <a class="reference internal" href="#grammar-token-smithy-ShapeStatement"><code class="xref docutils literal notranslate"><span class="pre">ShapeStatement</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-ApplyStatement"><code class="xref docutils literal notranslate"><span class="pre">ApplyStatement</span></code></a>

<strong id="grammar-token-smithy-ShapeStatement">ShapeStatement</strong> =
    <a class="reference internal" href="#grammar-token-smithy-TraitStatements"><code class="xref docutils literal notranslate"><span class="pre">TraitStatements</span></code></a> <a class="reference internal" href="#grammar-token-smithy-Shape"><code class="xref docutils literal notranslate"><span class="pre">Shape</span></code></a>

<strong id="grammar-token-smithy-Shape">Shape</strong> =
    <a class="reference internal" href="#grammar-token-smithy-SimpleShape"><code class="xref docutils literal notranslate"><span class="pre">SimpleShape</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-EnumShape"><code class="xref docutils literal notranslate"><span class="pre">EnumShape</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-AggregateShape"><code class="xref docutils literal notranslate"><span class="pre">AggregateShape</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-EntityShape"><code class="xref docutils literal notranslate"><span class="pre">EntityShape</span></code></a>
  / <a class="reference internal" href="#grammar-token-smithy-OperationShape"><code class="xref docutils literal notranslate"><span class="pre">OperationShape</span></code></a>

<strong id="grammar-token-smithy-SimpleShape">SimpleShape</strong> =
    <a class="reference internal" href="#grammar-token-smithy-SimpleTypeName"><code class="xref docutils literal notranslate"><span class="pre">SimpleTypeName</span></code></a> <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-Mixins"><code class="xref docutils literal notranslate"><span class="pre">Mixins</span></code></a>]

<strong id="grammar-token-smithy-SimpleTypeName">SimpleTypeName</strong> =
    %s&quot;blob&quot; / %s&quot;boolean&quot; / %s&quot;document&quot; / %s&quot;string&quot;
  / %s&quot;byte&quot; / %s&quot;short&quot; / %s&quot;integer&quot; / %s&quot;long&quot;
  / %s&quot;float&quot; / %s&quot;double&quot; / %s&quot;bigInteger&quot;
  / %s&quot;bigDecimal&quot; / %s&quot;timestamp&quot;

<strong id="grammar-token-smithy-Mixins">Mixins</strong> =
    [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] %s&quot;with&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] &quot;[&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] 1*(<a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]) &quot;]&quot;

<strong id="grammar-token-smithy-EnumShape">EnumShape</strong> =
    <a class="reference internal" href="#grammar-token-smithy-EnumTypeName"><code class="xref docutils literal notranslate"><span class="pre">EnumTypeName</span></code></a> <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-Mixins"><code class="xref docutils literal notranslate"><span class="pre">Mixins</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-EnumShapeMembers"><code class="xref docutils literal notranslate"><span class="pre">EnumShapeMembers</span></code></a>

<strong id="grammar-token-smithy-EnumTypeName">EnumTypeName</strong> =
    %s&quot;enum&quot; / %s&quot;intEnum&quot;

<strong id="grammar-token-smithy-EnumShapeMembers">EnumShapeMembers</strong> =
    &quot;{&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] 1*(<a class="reference internal" href="#grammar-token-smithy-EnumShapeMember"><code class="xref docutils literal notranslate"><span class="pre">EnumShapeMember</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]) &quot;}&quot;

<strong id="grammar-token-smithy-EnumShapeMember">EnumShapeMember</strong> =
    <a class="reference internal" href="#grammar-token-smithy-TraitStatements"><code class="xref docutils literal notranslate"><span class="pre">TraitStatements</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-ValueAssignment"><code class="xref docutils literal notranslate"><span class="pre">ValueAssignment</span></code></a>]

<strong id="grammar-token-smithy-ValueAssignment">ValueAssignment</strong> =
    [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] &quot;=&quot; [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref docutils literal notranslate"><span class="pre">NodeValue</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-Comma"><code class="xref docutils literal notranslate"><span class="pre">Comma</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-BR"><code class="xref docutils literal notranslate"><span class="pre">BR</span></code></a>

<strong id="grammar-token-smithy-AggregateShape">AggregateShape</strong> =
    <a class="reference internal" href="#grammar-token-smithy-AggregateTypeName"><code class="xref docutils literal notranslate"><span class="pre">AggregateTypeName</span></code></a> <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-ForResource"><code class="xref docutils literal notranslate"><span class="pre">ForResource</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-Mixins"><code class="xref docutils literal notranslate"><span class="pre">Mixins</span></code></a>]
     [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-ShapeMembers"><code class="xref docutils literal notranslate"><span class="pre">ShapeMembers</span></code></a>

<strong id="grammar-token-smithy-AggregateTypeName">AggregateTypeName</strong> =
    %s&quot;list&quot; / %s&quot;map&quot; / %s&quot;union&quot; / %s&quot;structure&quot;

<strong id="grammar-token-smithy-ForResource">ForResource</strong> =
    <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> %s&quot;for&quot; <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a>

<strong id="grammar-token-smithy-ShapeMembers">ShapeMembers</strong> =
    &quot;{&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] *(<a class="reference internal" href="#grammar-token-smithy-ShapeMember"><code class="xref docutils literal notranslate"><span class="pre">ShapeMember</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]) &quot;}&quot;

<strong id="grammar-token-smithy-ShapeMember">ShapeMember</strong> =
    <a class="reference internal" href="#grammar-token-smithy-TraitStatements"><code class="xref docutils literal notranslate"><span class="pre">TraitStatements</span></code></a> (<a class="reference internal" href="#grammar-token-smithy-ExplicitShapeMember"><code class="xref docutils literal notranslate"><span class="pre">ExplicitShapeMember</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-ElidedShapeMember"><code class="xref docutils literal notranslate"><span class="pre">ElidedShapeMember</span></code></a>)
     [<a class="reference internal" href="#grammar-token-smithy-ValueAssignment"><code class="xref docutils literal notranslate"><span class="pre">ValueAssignment</span></code></a>]

<strong id="grammar-token-smithy-ExplicitShapeMember">ExplicitShapeMember</strong> =
    <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] &quot;:&quot; [<a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a>] <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a>

<strong id="grammar-token-smithy-ElidedShapeMember">ElidedShapeMember</strong> =
    &quot;$&quot; <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a>

<strong id="grammar-token-smithy-EntityShape">EntityShape</strong> =
    <a class="reference internal" href="#grammar-token-smithy-EntityTypeName"><code class="xref docutils literal notranslate"><span class="pre">EntityTypeName</span></code></a> <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-Mixins"><code class="xref docutils literal notranslate"><span class="pre">Mixins</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-NodeObject"><code class="xref docutils literal notranslate"><span class="pre">NodeObject</span></code></a>

<strong id="grammar-token-smithy-EntityTypeName">EntityTypeName</strong> =
    %s&quot;service&quot; / %s&quot;resource&quot;

<strong id="grammar-token-smithy-OperationShape">OperationShape</strong> =
    %s&quot;operation&quot; <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-Mixins"><code class="xref docutils literal notranslate"><span class="pre">Mixins</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-OperationBody"><code class="xref docutils literal notranslate"><span class="pre">OperationBody</span></code></a>

<strong id="grammar-token-smithy-OperationBody">OperationBody</strong> =
    &quot;{&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] *(<a class="reference internal" href="#grammar-token-smithy-OperationProperty"><code class="xref docutils literal notranslate"><span class="pre">OperationProperty</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]) &quot;}&quot;

<strong id="grammar-token-smithy-OperationProperty">OperationProperty</strong> =
    <a class="reference internal" href="#grammar-token-smithy-OperationInput"><code class="xref docutils literal notranslate"><span class="pre">OperationInput</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-OperationOutput"><code class="xref docutils literal notranslate"><span class="pre">OperationOutput</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-OperationErrors"><code class="xref docutils literal notranslate"><span class="pre">OperationErrors</span></code></a>

<strong id="grammar-token-smithy-OperationInput">OperationInput</strong> =
    %s&quot;input&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] (<a class="reference internal" href="#grammar-token-smithy-InlineAggregateShape"><code class="xref docutils literal notranslate"><span class="pre">InlineAggregateShape</span></code></a> / (&quot;:&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a>))

<strong id="grammar-token-smithy-OperationOutput">OperationOutput</strong> =
    %s&quot;output&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] (<a class="reference internal" href="#grammar-token-smithy-InlineAggregateShape"><code class="xref docutils literal notranslate"><span class="pre">InlineAggregateShape</span></code></a> / (&quot;:&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a>))

<strong id="grammar-token-smithy-OperationErrors">OperationErrors</strong> =
    %s&quot;errors&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] &quot;:&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] &quot;[&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] *(<a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]) &quot;]&quot;

<strong id="grammar-token-smithy-InlineAggregateShape">InlineAggregateShape</strong> =
    &quot;:=&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-TraitStatements"><code class="xref docutils literal notranslate"><span class="pre">TraitStatements</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-ForResource"><code class="xref docutils literal notranslate"><span class="pre">ForResource</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-Mixins"><code class="xref docutils literal notranslate"><span class="pre">Mixins</span></code></a>]
     [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-ShapeMembers"><code class="xref docutils literal notranslate"><span class="pre">ShapeMembers</span></code></a>
</pre>
<p class="rubric">Traits</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-TraitStatements">TraitStatements</strong> =
    *(<a class="reference internal" href="#grammar-token-smithy-Trait"><code class="xref docutils literal notranslate"><span class="pre">Trait</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>])

<strong id="grammar-token-smithy-Trait">Trait</strong> =
    &quot;&#64;&quot; <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-TraitBody"><code class="xref docutils literal notranslate"><span class="pre">TraitBody</span></code></a>]

<strong id="grammar-token-smithy-TraitBody">TraitBody</strong> =
    &quot;(&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] [<a class="reference internal" href="#grammar-token-smithy-TraitStructure"><code class="xref docutils literal notranslate"><span class="pre">TraitStructure</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-TraitNode"><code class="xref docutils literal notranslate"><span class="pre">TraitNode</span></code></a>] &quot;)&quot;

<strong id="grammar-token-smithy-TraitStructure">TraitStructure</strong> =
    1*(<a class="reference internal" href="#grammar-token-smithy-NodeObjectKvp"><code class="xref docutils literal notranslate"><span class="pre">NodeObjectKvp</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>])

<strong id="grammar-token-smithy-TraitNode">TraitNode</strong> =
    <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref docutils literal notranslate"><span class="pre">NodeValue</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>]

<strong id="grammar-token-smithy-ApplyStatement">ApplyStatement</strong> =
    <a class="reference internal" href="#grammar-token-smithy-ApplyStatementSingular"><code class="xref docutils literal notranslate"><span class="pre">ApplyStatementSingular</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-ApplyStatementBlock"><code class="xref docutils literal notranslate"><span class="pre">ApplyStatementBlock</span></code></a>

<strong id="grammar-token-smithy-ApplyStatementSingular">ApplyStatementSingular</strong> =
    %s&quot;apply&quot; <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a> <a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a> <a class="reference internal" href="#grammar-token-smithy-Trait"><code class="xref docutils literal notranslate"><span class="pre">Trait</span></code></a>

<strong id="grammar-token-smithy-ApplyStatementBlock">ApplyStatementBlock</strong> =
    %s&quot;apply&quot; <a class="reference internal" href="#grammar-token-smithy-SP"><code class="xref docutils literal notranslate"><span class="pre">SP</span></code></a> <a class="reference internal" href="model.html#grammar-token-smithy-ShapeId"><code class="xref docutils literal notranslate"><span class="pre">ShapeId</span></code></a> <a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a> &quot;{&quot; [<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref docutils literal notranslate"><span class="pre">WS</span></code></a>] <a class="reference internal" href="#grammar-token-smithy-TraitStatements"><code class="xref docutils literal notranslate"><span class="pre">TraitStatements</span></code></a> &quot;}&quot;
</pre>
<p class="rubric">Shape ID</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Refer to <a class="reference internal" href="model.html#shape-id"><span class="std std-ref">Shape ID</span></a> for the ABNF grammar of shape IDs.</p>
</div>
</div>
<div class="section" id="comments">
<span id="id2"></span><h2><span class="section-number">18.4. </span>Comments<a class="headerlink" href="#comments" title="Permalink to this heading">#</a></h2>
<p>A <a class="reference internal" href="#grammar-token-smithy-Comment"><code class="xref std std-token docutils literal notranslate"><span class="pre">comment</span></code></a> can appear at any place between tokens where
whitespace (<a class="reference internal" href="#grammar-token-smithy-WS"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:WS</span></code></a>) can appear. Comments in Smithy are defined using two
forward slashes followed by any character. A newline terminates a comment.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>

<span class="c">// This is a comment</span>
<span class="kd">namespace </span><span class="nc">com.foo</span><span class="w"> </span><span class="c">// This is also a comment</span>

<span class="c">// Another comment</span>
<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Three forward slashes can be used to define the documentation of a shape
using a special <a class="reference internal" href="#documentation-comment"><span class="std std-ref">documentation comment</span></a>.</p>
</div>
</div>
<div class="section" id="control-section">
<span id="control-statement"></span><h2><span class="section-number">18.5. </span>Control section<a class="headerlink" href="#control-section" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="#grammar-token-smithy-ControlSection"><code class="xref std std-token docutils literal notranslate"><span class="pre">control</span> <span class="pre">section</span></code></a> of a model contains
<a class="reference internal" href="#grammar-token-smithy-ControlStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">control</span> <span class="pre">statements</span></code></a> that apply parser directives
to a <em>specific IDL file</em>. Because control statements influence parsing, they
MUST appear at the beginning of a file before any other statements and have
no effect on the <a class="reference internal" href="model.html#semantic-model"><span class="std std-ref">semantic model</span></a>.</p>
<p>The following control statements are currently supported:</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="docutils align-default">
<colgroup>
<col width="10%" />
<col width="10%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>version</td>
<td>string</td>
<td>Defines the <a class="reference internal" href="#smithy-version"><span class="std std-ref">version</span></a> of the Smithy IDL used in
the model file.</td>
</tr>
<tr class="row-odd"><td>operationInputSuffix</td>
<td>string</td>
<td>Defines the suffix used when generating names for
<a class="reference internal" href="#idl-inline-input-output"><span class="std std-ref">inline operation input</span></a>.</td>
</tr>
<tr class="row-even"><td>operationOutputSuffix</td>
<td>string</td>
<td>Defines the suffix used when generating names for
<a class="reference internal" href="#idl-inline-input-output"><span class="std std-ref">inline operation output</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<p>Implementations MUST ignore unknown control statements.</p>
<div class="section" id="version-statement">
<span id="smithy-version"></span><h3><span class="section-number">18.5.1. </span>Version statement<a class="headerlink" href="#version-statement" title="Permalink to this heading">#</a></h3>
<p>The Smithy specification is versioned using a <code class="docutils literal notranslate"><span class="pre">major</span></code> . <code class="docutils literal notranslate"><span class="pre">minor</span></code>
versioning scheme. A version requirement is specified for a model file using
the <code class="docutils literal notranslate"><span class="pre">$version</span></code> control statement. When no version number is specified in
the IDL, an implementation SHOULD assume that the model can be loaded.
Because this can lead to unexpected parsing errors, models SHOULD always
include a version.</p>
<p>The value provided in a version control statement is a string that MUST
adhere to the following ABNF:</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-version_string">version_string</strong> =
    1*DIGIT [ &quot;.&quot; 1*DIGIT ]
</pre>
<p>The following example sets the version to <code class="docutils literal notranslate"><span class="pre">2</span></code>, meaning that tooling MUST
support a version greater than or equal to <code class="docutils literal notranslate"><span class="pre">2.0</span></code> and less than <code class="docutils literal notranslate"><span class="pre">3.0</span></code>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>A minor version SHOULD be provided when a model depends on a feature released
in a minor update of the specification. The following example sets the
version requirement of a file to <code class="docutils literal notranslate"><span class="pre">2.1</span></code>, meaning that tooling MUST support a
version greater than or equal to <code class="docutils literal notranslate"><span class="pre">2.1</span></code> and less than <code class="docutils literal notranslate"><span class="pre">3.0</span></code>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2.1&quot;</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.1&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p class="rubric">Version compatibility</p>
<p>A single version statement can appear in a model file, but different versions
MAY be encountered when merging multiple model files together. Multiple
versions are supported if and only if all of the version statements are
supported by the tool loading the models.</p>
</div>
</div>
<div class="section" id="metadata-section">
<span id="id3"></span><h2><span class="section-number">18.6. </span>Metadata section<a class="headerlink" href="#metadata-section" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="#grammar-token-smithy-MetadataSection"><code class="xref std std-token docutils literal notranslate"><span class="pre">metadata</span> <span class="pre">section</span></code></a> is used to apply untyped
<a class="reference internal" href="model.html#metadata"><span class="std std-ref">metadata</span></a> to the entire model. A <a class="reference internal" href="#grammar-token-smithy-MetadataStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:MetadataStatement</span></code></a>
consists of the metadata key to set, followed by <code class="docutils literal notranslate"><span class="pre">=</span></code>, followed by the
<a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref std std-token docutils literal notranslate"><span class="pre">node</span> <span class="pre">value</span></code></a> to assign to the key.</p>
<p>The following example defines metadata in the model:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">metadata </span><span class="nc">greeting </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;stringList&quot; </span><span class="nd">=</span><span class="w"> </span>[<span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;c&quot;</span>]
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;greeting&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;stringList&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;c&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Metadata is not defined within a namespace. Unquoted object property values
are considered <a class="reference internal" href="#syntactic-shape-ids"><span class="std std-ref">syntactic shape IDs</span></a> and resolve
to the prelude namespace, <code class="docutils literal notranslate"><span class="pre">smithy.api</span></code>.</p>
<p>The following Smithy IDL model:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">metadata </span><span class="nc">exampleSyntacticShapeId </span><span class="nd">=</span><span class="w"> </span><span class="vc">required</span>
</pre></div>
</div>
<p>Is equivalent to the following JSON AST model:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;exampleSyntacticShapeId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#required&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="shape-section">
<h2><span class="section-number">18.7. </span>Shape section<a class="headerlink" href="#shape-section" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="#grammar-token-smithy-ShapeSection"><code class="xref std std-token docutils literal notranslate"><span class="pre">shape</span> <span class="pre">section</span></code></a> of the IDL is used to define
shapes and apply traits to shapes.</p>
<div class="section" id="namespaces">
<span id="id4"></span><h3><span class="section-number">18.7.1. </span>Namespaces<a class="headerlink" href="#namespaces" title="Permalink to this heading">#</a></h3>
<p>Shapes can only be defined after a namespace is declared. A namespace is
declared using a <a class="reference internal" href="#grammar-token-smithy-NamespaceStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">namespace</span> <span class="pre">statement</span></code></a>. Only
one namespace can appear per file.</p>
<p>The following example defines a string shape named <code class="docutils literal notranslate"><span class="pre">MyString</span></code> in the
<code class="docutils literal notranslate"><span class="pre">smithy.example</span></code> namespace:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="referring-to-shapes">
<span id="use-statement"></span><h3><span class="section-number">18.7.2. </span>Referring to shapes<a class="headerlink" href="#referring-to-shapes" title="Permalink to this heading">#</a></h3>
<p>The <a class="reference internal" href="#grammar-token-smithy-UseSection"><code class="xref std std-token docutils literal notranslate"><span class="pre">use</span> <span class="pre">section</span></code></a> of the IDL is used to import shapes
into the current namespace so that they can be referred to using a
<a class="reference internal" href="#relative-shape-id"><span class="std std-ref">relative shape ID</span></a>. The <a class="reference internal" href="#grammar-token-smithy-UseStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">UseStatement</span></code></a>s
that make up this section have no effect on the <a class="reference internal" href="model.html#semantic-model"><span class="std std-ref">semantic model</span></a>.</p>
<p>The following example uses <code class="docutils literal notranslate"><span class="pre">smithy.example#Foo</span></code> and <code class="docutils literal notranslate"><span class="pre">smithy.example#Baz</span></code>
so that they can be referred to using only <code class="docutils literal notranslate"><span class="pre">Foo</span></code> and <code class="docutils literal notranslate"><span class="pre">Baz</span></code>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.hello</span>

<span class="kd">use </span><span class="nc">smithy.example#Foo</span>
<span class="kd">use </span><span class="nc">smithy.example#Baz</span>

<span class="kd">map </span><span class="nc">MyMap</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// Resolves to smithy.example#Foo</span>
<span class="w">    </span><span class="py">key</span><span class="p">:</span><span class="w"> </span><span class="vc">Foo</span>
<span class="w">    </span><span class="c">// Resolves to smithy.example#Baz</span>
<span class="w">    </span><span class="py">value</span><span class="p">:</span><span class="w"> </span><span class="vc">Baz</span>
}
</pre></div>
</div>
<p>A use statement can refer to <a class="reference internal" href="model.html#traits"><span class="std std-ref">traits</span></a> too. The following example
uses the <code class="docutils literal notranslate"><span class="pre">smithy.example#test</span></code> and <code class="docutils literal notranslate"><span class="pre">smithy.example#anotherTrait</span></code>
traits so that they can be applied using relative shape IDs:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.hello</span>

<span class="kd">use </span><span class="nc">smithy.example#test</span>
<span class="kd">use </span><span class="nc">smithy.example#anotherTrait</span>

<span class="nt">@test</span><span class="w"> </span><span class="c">// &lt;-- Resolves to smithy.example#test</span>
<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
<p class="rubric">Use statement validation</p>
<ol class="arabic simple">
<li>A shape cannot be defined in a file with the same name as one of the
shapes imported with a <code class="docutils literal notranslate"><span class="pre">use</span></code> statement.</li>
<li>Shapes IDs with members names cannot be imported with a use statement.</li>
</ol>
<div class="section" id="relative-shape-id-resolution">
<span id="relative-shape-id"></span><h4><span class="section-number">18.7.2.1. </span>Relative shape ID resolution<a class="headerlink" href="#relative-shape-id-resolution" title="Permalink to this heading">#</a></h4>
<p>Relative shape IDs are resolved using the following process:</p>
<ol class="arabic simple">
<li>If a <a class="reference internal" href="#grammar-token-smithy-UseStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:UseStatement</span></code></a> has imported a shape with the same name,
the shape ID resolves to the imported shape ID.</li>
<li>If a shape is defined in the same namespace as the shape with the same name,
the namespace of the shape resolves to the <em>current namespace</em>.</li>
<li>If a shape is defined in the <a class="reference internal" href="model.html#prelude"><span class="std std-ref">prelude</span></a> with the same name,
the namespace resolves to <code class="docutils literal notranslate"><span class="pre">smithy.api</span></code>.</li>
<li>If a relative shape ID does not satisfy one of the above cases, the shape
ID is invalid, and the namespace is inherited from the <em>current namespace</em>.</li>
</ol>
<p>The following example Smithy model contains comments above each member of
the shape named <code class="docutils literal notranslate"><span class="pre">MyStructure</span></code> that describes the shape the member resolves
to.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">use </span><span class="nc">foo.baz#Bar</span>

<span class="kd">string </span><span class="nc">MyString</span>

<span class="kd">structure </span><span class="nc">MyStructure</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// Resolves to smithy.example#MyString</span>
<span class="w">    </span><span class="c">// There is a shape named MyString defined in the same namespace.</span>
<span class="w">    </span><span class="py">a</span><span class="p">:</span><span class="w"> </span><span class="vc">MyString</span>

<span class="w">    </span><span class="c">// Resolves to smithy.example#MyString</span>
<span class="w">    </span><span class="c">// Absolute shape IDs do not perform namespace resolution.</span>
<span class="w">    </span><span class="py">b</span><span class="p">:</span><span class="w"> </span><span class="vc">smithy.example#MyString</span>

<span class="w">    </span><span class="c">// Resolves to foo.baz#Bar</span>
<span class="w">    </span><span class="c">// The &quot;use foo.baz#Bar&quot; statement imported the Bar symbol,</span>
<span class="w">    </span><span class="c">// allowing the shape to be referenced using a relative shape ID.</span>
<span class="w">    </span><span class="py">c</span><span class="p">:</span><span class="w"> </span><span class="vc">Bar</span>

<span class="w">    </span><span class="c">// Resolves to smithy.api#String</span>
<span class="w">    </span><span class="c">// No shape named String was imported through a use statement</span>
<span class="w">    </span><span class="c">// the smithy.example namespace does not contain a shape named</span>
<span class="w">    </span><span class="c">// String, and the prelude model contains a shape named String.</span>
<span class="w">    </span><span class="py">d</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>

<span class="w">    </span><span class="c">// Resolves to smithy.example#MyBoolean.</span>
<span class="w">    </span><span class="c">// There is a shape named MyBoolean defined in the same namespace.</span>
<span class="w">    </span><span class="c">// Forward references are supported both within the same file and</span>
<span class="w">    </span><span class="c">// across multiple files.</span>
<span class="w">    </span><span class="py">e</span><span class="p">:</span><span class="w"> </span><span class="vc">MyBoolean</span>

<span class="w">    </span><span class="c">// Resolves to smithy.example#InvalidShape. A shape by this name has</span>
<span class="w">    </span><span class="c">// not been imported through a use statement, a shape by this name</span>
<span class="w">    </span><span class="c">// does not exist in the current namespace, and a shape by this name</span>
<span class="w">    </span><span class="c">// does not exist in the prelude model.</span>
<span class="w">    </span><span class="py">f</span><span class="p">:</span><span class="w"> </span><span class="vc">InvalidShape</span>
}

<span class="kd">boolean </span><span class="nc">MyBoolean</span>
</pre></div>
</div>
</div>
<div class="section" id="syntactic-shape-ids">
<span id="id5"></span><h4><span class="section-number">18.7.2.2. </span>Syntactic shape IDs<a class="headerlink" href="#syntactic-shape-ids" title="Permalink to this heading">#</a></h4>
<p>Unquoted string values that are not object keys in the Smithy IDL are
considered lexical shape IDs and are resolved to absolute shape IDs using the
process defined in <a class="reference internal" href="#relative-shape-id"><span class="std std-ref">Relative shape ID resolution</span></a>.</p>
<p>The following model defines a list that references a string shape defined
in another namespace.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">use </span><span class="nc">smithy.other#MyString</span>

<span class="kd">list </span><span class="nc">MyList</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">MyString</span>
}
</pre></div>
</div>
<p>The above model is equivalent to the following JSON AST model:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyList&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;list&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;members&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.other#MyString&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">Use quotes for literal strings</p>
<p>Values that are not meant to be shape IDs MUST be quoted. The following
model is syntactically valid but semantically incorrect because
it resolves the value of the <a class="reference internal" href="type-refinement-traits.html#error-trait"><span class="std std-ref">error trait</span></a> to the shape ID
<code class="docutils literal notranslate"><span class="pre">&quot;smithy.example#client&quot;</span></code> rather than using the string literal value of
<code class="docutils literal notranslate"><span class="pre">&quot;client&quot;</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@error</span>(<span class="vc">client</span>)<span class="w"> </span><span class="c">// &lt;-- This MUST be &quot;client&quot;</span>
<span class="kd">structure </span><span class="nc">Error</span>

<span class="kd">string </span><span class="nc">client</span>
</pre></div>
</div>
<p>The above example is equivalent to the following incorrect JSON AST:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#Error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;structure&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#client&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#client&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">Object keys</p>
<p>Object keys are not treated as shape IDs. The following example defines a
<a class="reference internal" href="#metadata-section"><span class="std std-ref">metadata</span></a> object, and when loaded into the
<a class="reference internal" href="model.html#semantic-model"><span class="std std-ref">semantic model</span></a>, the object key <code class="docutils literal notranslate"><span class="pre">String</span></code> remains
the same literal string value of <code class="docutils literal notranslate"><span class="pre">String</span></code> while the value is treated as
a shape ID and resolves to the string literal <code class="docutils literal notranslate"><span class="pre">&quot;smithy.api#String&quot;</span></code>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">metadata </span><span class="nc">foo </span><span class="nd">=</span><span class="w"> </span>{
<span class="w">    </span><span class="py">String</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
}
</pre></div>
</div>
<p>The above example is equivalent to the following JSON AST:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;String&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">Semantic model</p>
<p>Syntactic shape IDs are syntactic sugar for defining fully-qualified
shape IDs inside of strings, and this difference is inconsequential in the
<a class="reference internal" href="model.html#semantic-model"><span class="std std-ref">semantic model</span></a>. A syntactic shape ID SHOULD be
resolved to a string that contains a fully-qualified shape ID when parsing
the model.</p>
<p class="rubric">Validation</p>
<p>When a syntactic shape ID is found that does not target an actual shape in
the fully loaded semantic model, an implementation SHOULD emit a DANGER
<a class="reference internal" href="model-validation.html#validation"><span class="std std-ref">validation event</span></a> with an ID of <cite>SyntacticShapeIdTarget</cite>.
This validation brings attention to the broken reference and helps to ensure
that modelers do not unintentionally use a syntactic shape ID when they should
have used a string. A DANGER severity is used so that the validation can be
<a class="reference internal" href="model-validation.html#suppression-definition"><span class="std std-ref">suppressed</span></a> in the rare cases that the broken
reference can be ignored.</p>
</div>
</div>
<div class="section" id="defining-shapes">
<h3><span class="section-number">18.7.3. </span>Defining shapes<a class="headerlink" href="#defining-shapes" title="Permalink to this heading">#</a></h3>
<p>Shapes are defined using a <a class="reference internal" href="#grammar-token-smithy-ShapeStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:ShapeStatement</span></code></a>.</p>
<div class="section" id="simple-shapes">
<span id="idl-simple"></span><h4><span class="section-number">18.7.3.1. </span>Simple shapes<a class="headerlink" href="#simple-shapes" title="Permalink to this heading">#</a></h4>
<p><a class="reference internal" href="simple-types.html#simple-types"><span class="std std-ref">Simple shapes</span></a> are defined using a
<a class="reference internal" href="#grammar-token-smithy-SimpleShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:SimpleShape</span></code></a>.</p>
<p>The following example defines a <code class="docutils literal notranslate"><span class="pre">string</span></code> shape:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#String&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>The following example defines an <code class="docutils literal notranslate"><span class="pre">integer</span></code> shape with a <a class="reference internal" href="constraint-traits.html#range-trait"><span class="std std-ref">range trait</span></a>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@range</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">1000</span>)
<span class="kd">integer </span><span class="nc">MaxResults</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MaxResults&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#range&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="enum-shapes">
<span id="idl-enum"></span><h4><span class="section-number">18.7.3.2. </span>Enum shapes<a class="headerlink" href="#enum-shapes" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference internal" href="simple-types.html#enum"><span class="std std-ref">enum</span></a> shape is defined using an <a class="reference internal" href="#grammar-token-smithy-EnumShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:EnumShape</span></code></a>.</p>
<p>The following example defines an <a class="reference internal" href="simple-types.html#enum"><span class="std std-ref">enum</span></a> shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">enum </span><span class="nc">Suit</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">DIAMOND</span>
<span class="w">    </span><span class="vc">CLUB</span>
<span class="w">    </span><span class="vc">HEART</span>
<span class="w">    </span><span class="vc">SPADE</span>
}
</pre></div>
</div>
<p>Syntactic sugar can be used to assign an <a class="reference internal" href="type-refinement-traits.html#enumvalue-trait"><span class="std std-ref">enumValue trait</span></a> to an enum
member. The following example defines an enum shape with custom values and
traits:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">enum </span><span class="nc">Suit</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@deprecated</span>
<span class="w">    </span><span class="vc">DIAMOND</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;diamond&quot;</span>

<span class="w">    </span><span class="vc">CLUB</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;club&quot;</span>
<span class="w">    </span><span class="vc">HEART</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;heart&quot;</span>
<span class="w">    </span><span class="vc">SPADE</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;spade&quot;</span>
}
</pre></div>
</div>
<p>The above enum is exactly equivalent to the following enum:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">enum </span><span class="nc">Suit</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@deprecated</span>
<span class="w">    </span><span class="nt">@enumValue</span>(<span class="s2">&quot;diamond&quot;</span>)
<span class="w">    </span><span class="vc">DIAMOND</span>

<span class="w">    </span><span class="nt">@enumValue</span>(<span class="s2">&quot;club&quot;</span>)
<span class="w">    </span><span class="vc">CLUB</span>

<span class="w">    </span><span class="nt">@enumValue</span>(<span class="s2">&quot;heart&quot;</span>)
<span class="w">    </span><span class="vc">HEART</span>

<span class="w">    </span><span class="nt">@enumValue</span>(<span class="s2">&quot;spade&quot;</span>)
<span class="w">    </span><span class="vc">SPADE</span>
}
</pre></div>
</div>
</div>
<div class="section" id="intenum-shapes">
<span id="idl-int-enum"></span><h4><span class="section-number">18.7.3.3. </span>IntEnum shapes<a class="headerlink" href="#intenum-shapes" title="Permalink to this heading">#</a></h4>
<p>The <a class="reference internal" href="simple-types.html#intenum"><span class="std std-ref">intEnum</span></a> shape is defined using an
<a class="reference internal" href="#grammar-token-smithy-EnumShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:EnumShape</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="type-refinement-traits.html#enumvalue-trait"><span class="std std-ref">enumValue trait</span></a> is required on all
<a class="reference internal" href="simple-types.html#intenum"><span class="std std-ref">intEnum</span></a> members.</p>
</div>
<p>Syntactic sugar can be used to assign an <a class="reference internal" href="type-refinement-traits.html#enumvalue-trait"><span class="std std-ref">enumValue trait</span></a> to an intEnum
member. The following example defines an <a class="reference internal" href="simple-types.html#intenum"><span class="std std-ref">intEnum</span></a> shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">intEnum </span><span class="nc">Suit</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">DIAMOND</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="vc">CLUB</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">2</span>
<span class="w">    </span><span class="vc">HEART</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">3</span>
<span class="w">    </span><span class="vc">SPADE</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">4</span>
}
</pre></div>
</div>
<p>The above intEnum is exactly equivalent to the following intEnum:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">intEnum </span><span class="nc">Suit</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@enumValue</span>(<span class="m">1</span>)
<span class="w">    </span><span class="vc">DIAMOND</span>

<span class="w">    </span><span class="nt">@enumValue</span>(<span class="m">2</span>)
<span class="w">    </span><span class="vc">CLUB</span>

<span class="w">    </span><span class="nt">@enumValue</span>(<span class="m">3</span>)
<span class="w">    </span><span class="vc">HEART</span>

<span class="w">    </span><span class="nt">@enumValue</span>(<span class="m">4</span>)
<span class="w">    </span><span class="vc">SPADE</span>
}
</pre></div>
</div>
</div>
<div class="section" id="list-shapes">
<span id="idl-list"></span><h4><span class="section-number">18.7.3.4. </span>List shapes<a class="headerlink" href="#list-shapes" title="Permalink to this heading">#</a></h4>
<p>A <a class="reference internal" href="aggregate-types.html#list"><span class="std std-ref">list</span></a> shape is defined using a <a class="reference internal" href="#grammar-token-smithy-AggregateShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:AggregateShape</span></code></a>.</p>
<p>The following example defines a list with a string member from the
<a class="reference internal" href="model.html#prelude"><span class="std std-ref">prelude</span></a>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">list </span><span class="nc">MyList</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyList&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;list&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;member&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to the list shape and its member:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
<span class="kd">list </span><span class="nc">MyList</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">100</span>)
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyList&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;list&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;member&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="map-shapes">
<span id="idl-map"></span><h4><span class="section-number">18.7.3.5. </span>Map shapes<a class="headerlink" href="#map-shapes" title="Permalink to this heading">#</a></h4>
<p>A <a class="reference internal" href="aggregate-types.html#map"><span class="std std-ref">map</span></a> shape is defined using a <a class="reference internal" href="#grammar-token-smithy-AggregateShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:AggregateShape</span></code></a>.</p>
<p>The following example defines a map of strings to integers:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">map </span><span class="nc">IntegerMap</span><span class="w"> </span>{
<span class="w">    </span><span class="py">key</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
<span class="w">    </span><span class="py">value</span><span class="p">:</span><span class="w"> </span><span class="vc">Integer</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;map&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#IntegerMap&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to the map shape and its members:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">100</span>)
<span class="kd">map </span><span class="nc">IntegerMap</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
<span class="w">    </span><span class="py">key</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@range</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">1000</span>)
<span class="w">    </span><span class="py">value</span><span class="p">:</span><span class="w"> </span><span class="vc">Integer</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#IntegerMap&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;map&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#Integer&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;smithy.api#range&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="structure-shapes">
<span id="idl-structure"></span><h4><span class="section-number">18.7.3.6. </span>Structure shapes<a class="headerlink" href="#structure-shapes" title="Permalink to this heading">#</a></h4>
<p>A <a class="reference internal" href="aggregate-types.html#structure"><span class="std std-ref">structure</span></a> shape is defined using a
<a class="reference internal" href="#grammar-token-smithy-AggregateShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:AggregateShape</span></code></a>.</p>
<p>The following example defines a structure with two members:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">structure </span><span class="nc">MyStructure</span><span class="w"> </span>{
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span><span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="vc">Integer</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyStructure&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;structure&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;members&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;baz&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#Integer&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to structure members:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="c">/// This is MyStructure.</span>
<span class="kd">structure </span><span class="nc">MyStructure</span><span class="w"> </span>{
<span class="w">    </span><span class="c">/// This is documentation for `foo`.</span>
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>

<span class="w">    </span><span class="c">/// This is documentation for `baz`.</span>
<span class="w">    </span><span class="nt">@deprecated</span>
<span class="w">    </span><span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="vc">Integer</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyStructure&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;structure&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;members&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is documentation for `foo`.&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;smithy.api#required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;baz&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#Integer&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is documentation for `baz`.&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;smithy.api#deprecated&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is MyStructure.&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Syntactic sugar can be used to apply the <a class="reference internal" href="type-refinement-traits.html#default-trait"><span class="std std-ref">default trait</span></a> to a structure
member. The following example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">Example</span><span class="w"> </span>{
<span class="w">    </span><span class="py">normative</span><span class="p">:</span><span class="w"> </span><span class="vc">Boolean</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span>
}
</pre></div>
</div>
<p>Is exactly equivalent to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">Example</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@default</span>(<span class="kc">true</span>)
<span class="w">    </span><span class="py">normative</span><span class="p">:</span><span class="w"> </span><span class="vc">Boolean</span>
}
</pre></div>
</div>
</div>
<div class="section" id="union-shapes">
<span id="idl-union"></span><h4><span class="section-number">18.7.3.7. </span>Union shapes<a class="headerlink" href="#union-shapes" title="Permalink to this heading">#</a></h4>
<p>A <a class="reference internal" href="aggregate-types.html#union"><span class="std std-ref">union</span></a> shape is defined using a <a class="reference internal" href="#grammar-token-smithy-AggregateShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:AggregateShape</span></code></a>.</p>
<p>The following example defines a union shape with several members:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">union </span><span class="nc">MyUnion</span><span class="w"> </span>{
<span class="w">    </span><span class="py">i32</span><span class="p">:</span><span class="w"> </span><span class="vc">Integer</span>

<span class="w">    </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">100</span>)
<span class="w">    </span><span class="py">string</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>

<span class="w">    </span><span class="py">time</span><span class="p">:</span><span class="w"> </span><span class="vc">Timestamp</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyUnion&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;union&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;members&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;i32&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#Integer&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;string&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;time&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#Timestamp&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="service-shape">
<span id="idl-service"></span><h4><span class="section-number">18.7.3.8. </span>Service shape<a class="headerlink" href="#service-shape" title="Permalink to this heading">#</a></h4>
<p>A service shape is defined using a <a class="reference internal" href="#grammar-token-smithy-EntityShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:EntityShape</span></code></a> and the provided
<a class="reference internal" href="#grammar-token-smithy-NodeObject"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeObject</span></code></a> supports the same properties defined in the
<a class="reference internal" href="service-types.html#service"><span class="std std-ref">service specification</span></a>.</p>
<p>The following example defines a service named <code class="docutils literal notranslate"><span class="pre">ModelRepository</span></code> that binds
a resource named <code class="docutils literal notranslate"><span class="pre">Model</span></code> and an operation named <code class="docutils literal notranslate"><span class="pre">PingService</span></code>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--14-input--1" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">service </span><span class="nc">ModelRepository</span><span class="w"> </span>{
<span class="w">    </span><span class="py">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-07-13&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="py">resources</span><span class="p">:</span><span class="w"> </span>[<span class="vc">Model</span>]<span class="p">,</span>
<span class="w">    </span><span class="py">operations</span><span class="p">:</span><span class="w"> </span>[<span class="vc">PingService</span>]
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--14-input--2" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#ModelRepository&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;service&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;resources&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#Model&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;operations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#PingService&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="operation-shape">
<span id="idl-operation"></span><h4><span class="section-number">18.7.3.9. </span>Operation shape<a class="headerlink" href="#operation-shape" title="Permalink to this heading">#</a></h4>
<p>An operation shape is defined using an <a class="reference internal" href="#grammar-token-smithy-OperationShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:OperationShape</span></code></a> and
the same properties defined in the <a class="reference internal" href="service-types.html#operation"><span class="std std-ref">operation specification</span></a>.</p>
<p>The following example defines an operation shape that accepts an input
structure named <code class="docutils literal notranslate"><span class="pre">Input</span></code>, returns an output structure named <code class="docutils literal notranslate"><span class="pre">Output</span></code>, and
can potentially return the <code class="docutils literal notranslate"><span class="pre">Unavailable</span></code> or <code class="docutils literal notranslate"><span class="pre">BadRequest</span></code>
<a class="reference internal" href="type-refinement-traits.html#error-trait"><span class="std std-ref">error structures</span></a>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--15-input--1" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">operation </span><span class="nc">PingService</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">PingServiceInput</span><span class="p">,</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">PingServiceOutput</span><span class="p">,</span>
<span class="w">    </span><span class="py">errors</span><span class="p">:</span><span class="w"> </span>[<span class="vc">UnavailableError</span><span class="p">,</span><span class="w"> </span><span class="vc">BadRequestError</span>]
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--15-input--2" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#PingService&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;operation&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#PingServiceInput&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#PingServiceOutput&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#UnavailableError&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#BadRequestError&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inline-input-output-shapes">
<span id="idl-inline-input-output"></span><h5><span class="section-number">18.7.3.9.1. </span>Inline input / output shapes<a class="headerlink" href="#inline-input-output-shapes" title="Permalink to this heading">#</a></h5>
<p>The input and output properties of operations can be defined using a more
succinct, inline syntax.</p>
<p>A structure defined using inline syntax is automatically marked with the
<a class="reference internal" href="type-refinement-traits.html#input-trait"><span class="std std-ref">input trait</span></a> for inputs and the <a class="reference internal" href="type-refinement-traits.html#output-trait"><span class="std std-ref">output trait</span></a> for outputs.</p>
<p>A structure defined using inline syntax is given a generated shape name. For
inputs, the generated name is the name of the operation shape with the suffix
<code class="docutils literal notranslate"><span class="pre">Input</span></code> added. For outputs, the generated name is the name of the operation
shape with the <code class="docutils literal notranslate"><span class="pre">Output</span></code> suffix added.</p>
<p>For example, the following model:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation </span><span class="nc">GetUser</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// The generated shape name is GetUserInput</span>
<span class="w">    </span><span class="py">input</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span>{
<span class="w">        </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}

<span class="w">    </span><span class="c">// The generated shape name is GetUserOutput</span>
<span class="w">    </span><span class="py">output</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span>{
<span class="w">        </span><span class="py">username</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">        </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}
}
</pre></div>
</div>
<p>Is equivalent to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">operation </span><span class="nc">GetUser</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="p">:</span><span class="w"> </span><span class="vc">GetUserInput</span>
<span class="w">    </span><span class="py">output</span><span class="p">:</span><span class="w"> </span><span class="vc">GetUserOutput</span>
}

<span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">GetUserInput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="nt">@output</span>
<span class="kd">structure </span><span class="nc">GetUserOutput</span><span class="w"> </span>{
<span class="w">    </span><span class="py">username</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>Traits and mixins can be applied to the inline structure:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@mixin</span>
<span class="kd">structure </span><span class="nc">BaseUser</span><span class="w"> </span>{
<span class="w">    </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="kd">operation </span><span class="nc">GetUser</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="nt">@references</span>([{<span class="py">resource</span><span class="p">:</span><span class="w"> </span><span class="vc">User</span>}])<span class="w"> </span>{
<span class="w">        </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}

<span class="w">    </span><span class="py">output</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span><span class="k">with</span><span class="w"> </span>[<span class="vc">BaseUser</span>]<span class="w"> </span>{
<span class="w">        </span><span class="py">username</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}
}

<span class="kd">operation </span><span class="nc">PutUser</span><span class="w"> </span>{
<span class="w">    </span><span class="py">input</span><span class="w"> </span><span class="p">:=</span>
<span class="w">        </span><span class="nt">@references</span>([{<span class="py">resource</span><span class="p">:</span><span class="w"> </span><span class="vc">User</span>}])
<span class="w">        </span><span class="k">with</span><span class="w"> </span>[<span class="vc">BaseUser</span>]<span class="w"> </span>{}
}
</pre></div>
</div>
<p>The suffixes for the generated names can be customized using the
<code class="docutils literal notranslate"><span class="pre">operationInputSuffix</span></code> and <code class="docutils literal notranslate"><span class="pre">operationOutputSuffix</span></code> control statements.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">$operationInputSuffix</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;Request&quot;</span>
<span class="kd">$operationOutputSuffix</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;Response&quot;</span>

<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">operation </span><span class="nc">GetUser</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// The generated shape name is GetUserRequest</span>
<span class="w">    </span><span class="py">input</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span>{
<span class="w">        </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}

<span class="w">    </span><span class="c">// The generated shape name is GetUserResponse</span>
<span class="w">    </span><span class="py">output</span><span class="w"> </span><span class="p">:=</span><span class="w"> </span>{
<span class="w">        </span><span class="py">username</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">        </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="resource-shape">
<span id="idl-resource"></span><h4><span class="section-number">18.7.3.10. </span>Resource shape<a class="headerlink" href="#resource-shape" title="Permalink to this heading">#</a></h4>
<p>A resource shape is defined using a <a class="reference internal" href="#grammar-token-smithy-EntityShape"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:EntityShape</span></code></a> and the
provided <a class="reference internal" href="#grammar-token-smithy-NodeObject"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeObject</span></code></a> supports the same properties defined in the
<a class="reference internal" href="service-types.html#resource"><span class="std std-ref">resource specification</span></a>.</p>
<p>The following example defines a resource shape that has a single identifier,
and defines a <a class="reference internal" href="service-types.html#read-lifecycle"><span class="std std-ref">read</span></a> operation:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--16-input--1" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">resource </span><span class="nc">SprocketResource</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{
<span class="w">        </span><span class="py">sprocketId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
<span class="w">    </span>}<span class="p">,</span>
<span class="w">    </span><span class="py">read</span><span class="p">:</span><span class="w"> </span><span class="vc">GetSprocket</span><span class="p">,</span>
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--16-input--2" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#Sprocket&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;resource&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;identifiers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;sprocketId&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.api#String&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;read&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;smithy.example#SprocketResource&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="#idl-target-elision"><span class="std std-ref">target elision syntax</span></a> for an easy way to
define structures that reference resource identifiers without having to
repeat the target definition.</p>
</div>
</div>
<div class="section" id="mixins">
<span id="idl-mixins"></span><h4><span class="section-number">18.7.3.11. </span>Mixins<a class="headerlink" href="#mixins" title="Permalink to this heading">#</a></h4>
<p><a class="reference internal" href="mixins.html#mixins"><span class="std std-ref">Mixins</span></a> can be added to a shape using the optional
<a class="reference internal" href="#grammar-token-smithy-Mixins"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:Mixins</span></code></a> clause of a shape definition.</p>
<p>For example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@mixin</span>
<span class="kd">structure </span><span class="nc">BaseUser</span><span class="w"> </span>{
<span class="w">    </span><span class="py">userId</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="kd">structure </span><span class="nc">UserDetails</span><span class="w"> </span><span class="k">with</span><span class="w"> </span>[<span class="vc">BaseUser</span>]<span class="w"> </span>{
<span class="w">    </span><span class="py">username</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="nt">@mixin</span>
<span class="nt">@sensitive</span>
<span class="kd">string </span><span class="nc">SensitiveString</span>

<span class="nt">@pattern</span>(<span class="s2">&quot;^[a-zA-Z</span><span class="se">\.</span><span class="s2">]*$&quot;</span>)
<span class="kd">string </span><span class="nc">SensitiveText</span><span class="w"> </span><span class="k">with</span><span class="w"> </span>[<span class="vc">SensitiveString</span>]
</pre></div>
</div>
</div>
<div class="section" id="target-elision">
<span id="idl-target-elision"></span><h4><span class="section-number">18.7.3.12. </span>Target Elision<a class="headerlink" href="#target-elision" title="Permalink to this heading">#</a></h4>
<p>Having to completely redefine a <a class="reference internal" href="service-types.html#resource-identifiers"><span class="std std-ref">resource identifier</span></a>
to use it in a structure or redefine a member from a <a class="reference internal" href="mixins.html#mixins"><span class="std std-ref">mixin</span></a> to add
additional traits can be cumbersome and potentially error-prone. Target elision
syntax can be used to cut down on that repetition by prefixing the member name
with a <code class="docutils literal notranslate"><span class="pre">$</span></code>. If a member is prefixed this way, its target will automatically be
set to the target of a mixin member with the same name. The following example
shows how to elide the target for a member inherited from a mixin:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@mixin</span>
<span class="kd">structure </span><span class="nc">IdBearer</span><span class="w"> </span>{
<span class="w">    </span><span class="py">id</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="kd">structure </span><span class="nc">IdRequired</span><span class="w"> </span><span class="k">with</span><span class="w"> </span>[<span class="vc">IdBearer</span>]<span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="nl">$id</span>
}
</pre></div>
</div>
<p>Additionally, structure shapes can reference a <a class="reference internal" href="#idl-resource"><span class="std std-ref">resource</span></a>
shape to define members that represent the resource's identifiers without having
to redefine the target shape. In addition to prefixing a member with <code class="docutils literal notranslate"><span class="pre">$</span></code>, the
structure must also add <code class="docutils literal notranslate"><span class="pre">for</span></code> followed by the resource referenced in
the shape's definition before any mixins are specified.</p>
<p>To resolve elided types, first check if any bound resource defines an
identifier that case-sensitively matches the elided member name. If a match is
found, the type targeted by that identifier is used for the elided type. If no
identifier matches the elided member name, mixin members are case-sensitively
checked, and if a match is found, the type targeted by the mixin member is
used as the elided type. It is an error if neither the resource or mixin
members matches an elided member name.</p>
<p>The following example shows a structure reusing an identifier definition from
a resource:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">resource </span><span class="nc">User</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{
<span class="w">        </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">        </span><span class="py">uuid</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}
}

<span class="kd">structure </span><span class="nc">UserSummary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="vc">User</span><span class="w"> </span>{
<span class="w">    </span><span class="nl">$name</span>
<span class="w">    </span><span class="py">age</span><span class="p">:</span><span class="w"> </span><span class="vc">Short</span>
}
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">UserSummary</span></code> structure does not attempt to define the
<code class="docutils literal notranslate"><span class="pre">uuid</span></code> identifier. When referencing a resource in this way, only the
identifiers that are explicitly referenced are added to the structure. This
allows structures to define subsets of identifiers, which can be useful for
operations like create operations where some of those identifiers may be
generated by the service.</p>
<p>Structures may only reference one resource shape in this way.</p>
<p>When using both mixins and a resource reference, the referenced resource will
be checked first. The following example is invalid:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">resource </span><span class="nc">User</span><span class="w"> </span>{
<span class="w">    </span><span class="py">identifiers</span><span class="p">:</span><span class="w"> </span>{
<span class="w">        </span><span class="py">uuid</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span>}
}

<span class="nt">@mixin</span>
<span class="kd">structure </span><span class="nc">UserIdentifiers</span><span class="w"> </span>{
<span class="w">    </span><span class="py">uuid</span><span class="p">:</span><span class="w"> </span><span class="vc">Blob</span>
}

<span class="c">// This is invalid because the `uuid` member&#39;s target is set to</span>
<span class="c">// String, which then conflicts with the UserIdentifiers mixin.</span>
<span class="kd">structure </span><span class="nc">UserSummary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="vc">User</span><span class="w"> </span><span class="k">with</span><span class="w"> </span>[<span class="vc">UserIdentifiers</span>]<span class="w"> </span>{
<span class="w">    </span><span class="nl">$uuid</span>
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="documentation-comment">
<span id="id6"></span><h3><span class="section-number">18.7.4. </span>Documentation comment<a class="headerlink" href="#documentation-comment" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="#grammar-token-smithy-DocumentationComment"><code class="xref std std-token docutils literal notranslate"><span class="pre">Documentation</span> <span class="pre">comments</span></code></a> are a
special kind of <a class="reference internal" href="#grammar-token-smithy-Comment"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:Comment</span></code></a> that provide
<a class="reference internal" href="documentation-traits.html#documentation-trait"><span class="std std-ref">documentation</span></a> for shapes. A documentation
comment is formed when three forward slashes (<code class="docutils literal notranslate"><span class="pre">&quot;///&quot;</span></code>) appear as the
first non-whitespace characters on a line.</p>
<p>Documentation comments are defined using <a class="reference external" href="https://spec.commonmark.org/">CommonMark</a>. The text after the
forward slashes is considered the contents of the line. If the text starts
with a space (&quot; &quot;), the leading space is removed from the content.
Successive documentation comments are combined together using a newline
(&quot;\n&quot;) to form the documentation of a shape.</p>
<p>The following Smithy IDL example,</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="c">/// This is documentation about a shape.</span>
<span class="c">///</span>
<span class="c">/// - This is a list</span>
<span class="c">/// - More of the list.</span>
<span class="kd">string </span><span class="nc">MyString</span>

<span class="c">/// This is documentation about a trait shape.</span>
<span class="c">///   More docs here.</span>
<span class="nt">@trait</span>
<span class="kd">structure </span><span class="nc">myTrait</span><span class="w"> </span>{}
</pre></div>
</div>
<p>is equivalent to the following JSON AST model:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is documentation about a shape.\n\n- This is a list\n- More of the list.&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#myTrait&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;structure&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#trait&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is documentation about a trait shape.\n  More docs here.&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">Placement</p>
<p>Documentation comments are only treated as shape documentation when the
comment appears immediately before a shape, and documentation comments MUST
appear <strong>before</strong> any <a class="reference internal" href="model.html#traits"><span class="std std-ref">traits</span></a> applied to the shape in order
for the documentation to be applied to a shape.</p>
<p>The following example applies a documentation trait to the shape because the
documentation comment comes before the traits applied to a shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="c">/// A deprecated string.</span>
<span class="nt">@deprecated</span>
<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
<p>Documentation comments can also be applied to members of a shape.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="c">/// Documentation about the structure.</span>
<span class="kd">structure </span><span class="nc">Example</span><span class="w"> </span>{
<span class="w">    </span><span class="c">/// Documentation about the member.</span>
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
}
</pre></div>
</div>
<p class="rubric">Semantic model</p>
<p>Documentation comments are syntactic sugar equivalent to applying the
<a class="reference internal" href="documentation-traits.html#documentation-trait"><span class="std std-ref">documentation trait</span></a>, and this difference is inconsequential
in the <a class="reference internal" href="model.html#semantic-model"><span class="std std-ref">semantic model</span></a>.</p>
</div>
<div class="section" id="applying-traits">
<span id="idl-applying-traits"></span><h3><span class="section-number">18.7.5. </span>Applying traits<a class="headerlink" href="#applying-traits" title="Permalink to this heading">#</a></h3>
<p>Trait values immediately preceding a shape definition are applied to the
shape. The shape ID of a trait is <em>resolved</em> against <a class="reference internal" href="#grammar-token-smithy-UseStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:UseStatement</span></code></a>s
and the current namespace in exactly the same way as
<a class="reference internal" href="#relative-shape-id"><span class="std std-ref">other shape IDs</span></a>.</p>
<p>The following example applies the <a class="reference internal" href="constraint-traits.html#length-trait"><span class="std std-ref">length trait</span></a> and
<a class="reference internal" href="documentation-traits.html#documentation-trait"><span class="std std-ref">documentation trait</span></a> to <code class="docutils literal notranslate"><span class="pre">MyString</span></code>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--17-input--1" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">100</span>)
<span class="nt">@documentation</span>(<span class="s2">&quot;Contains a string&quot;</span>)
<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--17-input--2" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contains a string&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="trait-values">
<span id="id7"></span><h4><span class="section-number">18.7.5.1. </span>Trait values<a class="headerlink" href="#trait-values" title="Permalink to this heading">#</a></h4>
<p>The value that can be provided for a trait depends on its type. A value for a
trait is defined by enclosing the value in parenthesis, provided as a
<a class="reference internal" href="#node-values"><span class="std std-ref">node value</span></a>. Trait values MUST adhere to the JSON type
mappings defined in <a class="reference internal" href="model.html#trait-node-values"><span class="std std-ref">Trait node values</span></a>. Trait values can only appear
immediately before a shape.</p>
<p>The following example applies various traits to a structure shape and its
members.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;An animal in the animal kingdom&quot;</span>)
<span class="kd">structure </span><span class="nc">Animal</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="vc">smithy.api#String</span><span class="p">,</span>

<span class="w">    </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">0</span>)
<span class="w">    </span><span class="nt">@tags</span>([<span class="s2">&quot;private-beta&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;metered&quot;</span>])
<span class="w">    </span><span class="py">age</span><span class="p">:</span><span class="w"> </span><span class="vc">smithy.api#Integer</span><span class="p">,</span>
}
</pre></div>
</div>
</div>
<div class="section" id="structure-map-and-union-trait-value-syntax">
<span id="structured-trait-values"></span><h4><span class="section-number">18.7.5.2. </span>Structure, map, and union trait value syntax<a class="headerlink" href="#structure-map-and-union-trait-value-syntax" title="Permalink to this heading">#</a></h4>
<p>A special syntax is provided for structure, map, and union traits that
allows placing key-value pairs directly inside of the trait parenthesis.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@structuredTrait</span>(<span class="py">bar</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;baz&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">qux</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;true&quot;</span>)
</pre></div>
</div>
<p>Is equivalent to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@structuredTrait</span>({<span class="py">bar</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;baz&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">qux</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;true&quot;</span>})
</pre></div>
</div>
</div>
<div class="section" id="omitted-trait-values">
<h4><span class="section-number">18.7.5.3. </span>Omitted trait values<a class="headerlink" href="#omitted-trait-values" title="Permalink to this heading">#</a></h4>
<p>An applied trait with no value, with or without empty parenthesis, assumes
a default value based on the shape of the trait.</p>
<p>If a value is omitted for a <code class="docutils literal notranslate"><span class="pre">structure</span></code> or <code class="docutils literal notranslate"><span class="pre">map</span></code>, the value defaults to an empty
object (<code class="docutils literal notranslate"><span class="pre">{}</span></code>).</p>
<p>The following applications of the <code class="docutils literal notranslate"><span class="pre">foo</span></code> trait are equivalent:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--18-input--1" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>

<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="c">// Define an example structure trait.</span>
<span class="nt">@trait</span>
<span class="kd">structure </span><span class="nc">foo</span><span class="w"> </span>{}

<span class="nt">@foo</span>
<span class="kd">string </span><span class="nc">MyString1</span>

<span class="nt">@foo</span>()
<span class="kd">string </span><span class="nc">MyString2</span>

<span class="nt">@foo</span>({})
<span class="kd">string </span><span class="nc">MyString3</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--18-input--2" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;structure&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#trait&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString3&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>If a value is omitted for a <code class="docutils literal notranslate"><span class="pre">list</span></code>, the value defaults to an empty list
(<code class="docutils literal notranslate"><span class="pre">[]</span></code>).</p>
<p>The following applications of the <a class="reference internal" href="documentation-traits.html#tags-trait"><span class="std std-ref">tags trait</span></a> are equivalent:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--19-input--1" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>

<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@tags</span>
<span class="kd">string </span><span class="nc">MyString1</span>

<span class="nt">@tags</span>()
<span class="kd">string </span><span class="nc">MyString2</span>

<span class="nt">@tags</span>([])
<span class="kd">string </span><span class="nc">MyString3</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--19-input--2" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString3&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>All other shapes default to <code class="docutils literal notranslate"><span class="pre">null</span></code>, which may or may not be valid for the
shape of the trait.</p>
</div>
<div class="section" id="apply-statement">
<span id="id8"></span><h4><span class="section-number">18.7.5.4. </span>Apply statement<a class="headerlink" href="#apply-statement" title="Permalink to this heading">#</a></h4>
<p>Traits can be applied to shapes outside of a shape's definition using an
<a class="reference internal" href="#grammar-token-smithy-ApplyStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:ApplyStatement</span></code></a>.</p>
<p>The following example applies the <a class="reference internal" href="documentation-traits.html#documentation-trait"><span class="std std-ref">documentation trait</span></a> to the
<code class="docutils literal notranslate"><span class="pre">smithy.example#MyString</span></code> shape:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--20-input--1" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">apply </span><span class="nc">MyString</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;This is my string!&quot;</span>)
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--20-input--2" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;apply&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is my string!&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Multiple traits can be applied to the same shape using a block apply
statement. The following example applies the <a class="reference internal" href="documentation-traits.html#documentation-trait"><span class="std std-ref">documentation trait</span></a>
and <a class="reference internal" href="constraint-traits.html#length-trait"><span class="std std-ref">length trait</span></a> to the <code class="docutils literal notranslate"><span class="pre">smithy.example#MyString</span></code> shape:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--21-input--1" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--1">Smithy</label><div class="tab-content docutils container">
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">apply </span><span class="nc">MyString</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@documentation</span>(<span class="s2">&quot;This is my string!&quot;</span>)
<span class="w">    </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
}
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--21-input--2" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--2">JSON</label><div class="tab-content docutils container">
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;smithy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shapes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;smithy.example#MyString&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;apply&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#documentation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is my string!&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;smithy.api#length&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Traits can be applied to members too:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">apply </span><span class="nc">MyStructure$foo</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;Structure member documentation&quot;</span>)
<span class="kd">apply </span><span class="nc">MyUnion$foo</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;Union member documentation&quot;</span>)
<span class="kd">apply </span><span class="nc">MyList$member</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;List member documentation&quot;</span>)
<span class="kd">apply </span><span class="nc">MySet$member</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;Set member documentation&quot;</span>)
<span class="kd">apply </span><span class="nc">MyMap$key</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;Map key documentation&quot;</span>)
<span class="kd">apply </span><span class="nc">MyMap$value</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;Map key documentation&quot;</span>)
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Refer to <a class="reference internal" href="model.html#trait-conflict-resolution"><span class="std std-ref">trait conflict resolution</span></a>
for information on how trait conflicts are resolved.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the semantic model, applying traits outside of a shape definition is
treated exactly the same as applying the trait inside of a shape
definition.</p>
</div>
</div>
</div>
</div>
<div class="section" id="node-values">
<span id="id9"></span><h2><span class="section-number">18.8. </span>Node values<a class="headerlink" href="#node-values" title="Permalink to this heading">#</a></h2>
<p><em>Node values</em> are analogous to JSON values. Node values are used to define
<a class="reference internal" href="model.html#metadata"><span class="std std-ref">metadata</span></a> and <a class="reference internal" href="model.html#traits"><span class="std std-ref">trait values</span></a>. Smithy's
node values have many advantages over JSON: comments, unquoted keys, unquoted
strings, text blocks, and trailing commas.</p>
<p>The following example defines a complex object metadata entry using a
node value:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">metadata </span><span class="nc">foo </span><span class="nd">=</span><span class="w"> </span>{
<span class="w">    </span><span class="py">hello</span><span class="p">:</span><span class="w"> </span><span class="m">123</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;456&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="py">testing</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        Hello!</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="py">an_array</span><span class="p">:</span><span class="w"> </span>[<span class="m">10.5</span>]<span class="p">,</span>
<span class="w">    </span><span class="vc">nested-object</span><span class="p">:</span><span class="w"> </span>{
<span class="w">        </span><span class="vc">hello-there$</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span>}<span class="p">,</span><span class="w"> </span><span class="c">// &lt;-- Trailing comma</span>
}
</pre></div>
</div>
<p class="rubric">Array node</p>
<p>An array node is defined like a JSON array. A <a class="reference internal" href="#grammar-token-smithy-NodeArray"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeArray</span></code></a> contains
zero or more heterogeneous <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeValue</span></code></a>s. A trailing comma is allowed
in a <code class="docutils literal notranslate"><span class="pre">NodeArray</span></code>.</p>
<p>The following examples define arrays with zero, one, and two values:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">[]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[true]</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">&quot;hello&quot;,]</span></code></li>
</ul>
<p class="rubric">Object node</p>
<p>An object node is defined like a JSON object. A <a class="reference internal" href="#grammar-token-smithy-NodeObject"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeObject</span></code></a> contains
zero or more key value pairs of strings (a <a class="reference internal" href="#grammar-token-smithy-NodeObjectKey"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeObjectKey</span></code></a>) that map
to heterogeneous <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeValue</span></code></a>s. A trailing comma is allowed
in a <code class="docutils literal notranslate"><span class="pre">NodeObject</span></code>.</p>
<p>The following examples define objects with zero, one, and two key value pairs:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">{}</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">{foo:</span> <span class="pre">true}</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">{foo:</span> <span class="pre">&quot;hello&quot;,</span> <span class="pre">&quot;bar&quot;:</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">{}]}</span></code></li>
</ul>
<p class="rubric">Number node</p>
<p>A node <a class="reference internal" href="#grammar-token-smithy-Number"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:Number</span></code></a> contains numeric data. It is defined like a JSON
number. The following examples define several <code class="docutils literal notranslate"><span class="pre">Number</span></code> values:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">0</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">0.0</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">1234</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">-1234.1234</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">1e+2</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">1.0e-10</span></code></li>
</ul>
<p class="rubric">Node keywords</p>
<p>Several keywords are used when parsing <a class="reference internal" href="#grammar-token-smithy-NodeValue"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeValue</span></code></a>.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">true</span></code>: The value is treated as a boolean <code class="docutils literal notranslate"><span class="pre">true</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">false</span></code>: The value is treated as a boolean <code class="docutils literal notranslate"><span class="pre">false</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">null</span></code>: The value is treated like a JSON <code class="docutils literal notranslate"><span class="pre">null</span></code></li>
</ul>
<div class="section" id="string-values">
<h3><span class="section-number">18.8.1. </span>String values<a class="headerlink" href="#string-values" title="Permalink to this heading">#</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">NodeValue</span></code> can contain <a class="reference internal" href="#grammar-token-smithy-NodeStringValue"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:NodeStringValue</span></code></a> productions that all
define strings.</p>
<p class="rubric">New lines</p>
<p>New lines in strings are normalized from CR (u000D) and CRLF (u000Du000A)
to LF (u000A). This ensures that strings defined in a Smithy model are
equivalent across platforms. If a literal <code class="docutils literal notranslate"><span class="pre">\r</span></code> is desired, it can be added
a string value using the Unicode escape <code class="docutils literal notranslate"><span class="pre">\u000d</span></code>.</p>
<p class="rubric">String equivalence</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NodeStringValue</span></code> production defines several productions used to
define strings, and in order for these productions to work in concert with
the <a class="reference internal" href="json-ast.html#json-ast"><span class="std std-ref">JSON AST format</span></a>, each of these production MUST be
treated like equivalent string values when loaded into the
<a class="reference internal" href="model.html#semantic-model"><span class="std std-ref">semantic model</span></a>.</p>
</div>
<div class="section" id="string-escape-characters">
<span id="id10"></span><h3><span class="section-number">18.8.2. </span>String escape characters<a class="headerlink" href="#string-escape-characters" title="Permalink to this heading">#</a></h3>
<p>The Smithy IDL supports escape sequences only within quoted strings.  The following
escape sequences are allowed:</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="docutils align-default">
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Unicode code point</th>
<th class="head">Escape</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>U+0022</td>
<td><code class="docutils literal notranslate"><span class="pre">\&quot;</span></code></td>
<td>double quote</td>
</tr>
<tr class="row-odd"><td>U+005C</td>
<td><code class="docutils literal notranslate"><span class="pre">\\</span></code></td>
<td>backslash</td>
</tr>
<tr class="row-even"><td>U+002F</td>
<td><code class="docutils literal notranslate"><span class="pre">\/</span></code></td>
<td>forward slash</td>
</tr>
<tr class="row-odd"><td>U+0008</td>
<td><code class="docutils literal notranslate"><span class="pre">\b</span></code></td>
<td>backspace BS</td>
</tr>
<tr class="row-even"><td>U+000C</td>
<td><code class="docutils literal notranslate"><span class="pre">\f</span></code></td>
<td>form feed FF</td>
</tr>
<tr class="row-odd"><td>U+000A</td>
<td><code class="docutils literal notranslate"><span class="pre">\n</span></code></td>
<td>line feed LF</td>
</tr>
<tr class="row-even"><td>U+000D</td>
<td><code class="docutils literal notranslate"><span class="pre">\r</span></code></td>
<td>carriage return CR</td>
</tr>
<tr class="row-odd"><td>U+0009</td>
<td><code class="docutils literal notranslate"><span class="pre">\t</span></code></td>
<td>horizontal tab HT</td>
</tr>
<tr class="row-even"><td>U+HHHH</td>
<td><code class="docutils literal notranslate"><span class="pre">\uHHHH</span></code></td>
<td>4-digit hexadecimal Unicode code point</td>
</tr>
<tr class="row-odd"><td><em>nothing</em></td>
<td><code class="docutils literal notranslate"><span class="pre">\\r\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\\r</span></code>, <code class="docutils literal notranslate"><span class="pre">\\n</span></code></td>
<td>escaped new line expands to nothing</td>
</tr>
</tbody>
</table>
</div>
<p>Any other sequence following a backslash is an error.</p>
</div>
<div class="section" id="text-blocks">
<span id="id11"></span><h3><span class="section-number">18.8.3. </span>Text blocks<a class="headerlink" href="#text-blocks" title="Permalink to this heading">#</a></h3>
<p>A text block is a string literal that can span multiple lines and automatically
removes any incidental whitespace. Smithy text blocks are heavily inspired by
text blocks defined in <a class="reference external" href="https://openjdk.java.net/jeps/355">JEP 355</a>.</p>
<p>A text block is opened with three double quotes (&quot;&quot;&quot;), followed by a newline,
zero or more content characters, and closed with three double quotes.
Text blocks differentiate <em>incidental whitespace</em> from <em>significant whitespace</em>.
Smithy will re-indent the content of a text block by removing all incidental
whitespace.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    &lt;div&gt;</span>
<span class="s2">        &lt;p&gt;Hello!&lt;/p&gt;</span>
<span class="s2">    &lt;/div&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>)
</pre></div>
</div>
<p>The four leading spaces in the above text block are considered insignificant
because they are common across all lines. Because the closing delimiter
appears on its own line, a trailing new line is added to the result. The
content of the text block is re-indented to remove the insignificant
whitespace, making it equivalent to the following:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&lt;div&gt;</span><span class="se">\n</span><span class="s2">    &lt;p&gt;Hello!&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;/div&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>)
</pre></div>
</div>
<p>The closing delimiter can be placed on the same line as content if no new line
is desired at the end of the result. The above example could be rewritten to
not including a trailing new line:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    &lt;div&gt;</span>
<span class="s2">        &lt;p&gt;Hello!&lt;/p&gt;</span>
<span class="s2">    &lt;/div&gt;&quot;&quot;&quot;</span>)
</pre></div>
</div>
<p>This example is equivalent to the following:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&lt;div&gt;</span><span class="se">\n</span><span class="s2">    &lt;p&gt;Hello!&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;/div&gt;&quot;</span>)
</pre></div>
</div>
<p>The following text blocks are ill-formed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;foo&quot;&quot;&quot;</span>  <span class="o">//</span> <span class="n">missing</span> <span class="n">new</span> <span class="n">line</span> <span class="n">following</span> <span class="nb">open</span> <span class="n">delimiter</span>
<span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>    <span class="o">//</span> <span class="n">missing</span> <span class="n">new</span> <span class="n">line</span> <span class="n">following</span> <span class="nb">open</span> <span class="n">delimiter</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&quot;          // missing closing delimiter</span>
</pre></div>
</div>
<div class="section" id="incidental-white-space-removal">
<span id="incidental-whitespace"></span><h4><span class="section-number">18.8.3.1. </span>Incidental white space removal<a class="headerlink" href="#incidental-white-space-removal" title="Permalink to this heading">#</a></h4>
<p>Smithy will re-indent the content of a text block by removing all
incidental whitespace using the following algorithm:</p>
<ol class="arabic">
<li><p class="first">Split the content of the text block at every LF, producing a list of lines.
The opening LF of the text block is not considered.</p>
<p>Given the following example (&quot;.&quot; is used to represent spaces),</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&quot;&quot;</span>
<span class="s2">....Foo</span>
<span class="s2">........Baz</span>

<span class="s2">..</span>
<span class="s2">....Bar</span>
<span class="s2">....&quot;&quot;&quot;</span>)
</pre></div>
</div>
<p>the following lines are produced:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;    Foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;        Baz&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;  &quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;    Bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;    &quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">Compute the <em>common whitespace prefix</em> by iterating over each line,
counting the number of leading spaces (&quot; &quot;) and taking the minimum count.
Except for the last line of content, lines that are empty or consist wholly
of whitespace are not considered. If the last line of content (that is, the
line that contains the closing delimiter) appears on its own line, then
that line's leading whitespace <strong>is</strong> considered when determining the
common whitespace prefix, allowing the closing delimiter to determine the
amount of indentation to remove.</p>
<p>Using the previous example, the common whitespace prefix is four spaces.
The empty third line and the blank fourth lines are not considered when
computing the common whitespace. The following uses &quot;.&quot; to represent the
common whitespace prefix:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&quot;&quot;</span>
<span class="s2">....Foo</span>
<span class="s2">....    Baz</span>

<span class="s2">....</span>
<span class="s2">....Bar</span>
<span class="s2">....&quot;&quot;&quot;</span>)
</pre></div>
</div>
</li>
<li><p class="first">Remove the common white space prefix from each line.</p>
<p>This step produces the following values from the previous example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;Foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;    Baz&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">Remove any trailing spaces from each line.</p>
</li>
<li><p class="first">Concatenate each line together, separated by LF.</p>
<p>This step produces the following result (&quot;|&quot; is used to represent the
left margin):</p>
<div class="no-copybutton highlight-none notranslate"><div class="highlight"><pre><span></span>|Foo
|    Baz
|
|
|Bar
|
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="significant-trailing-line">
<h4><span class="section-number">18.8.3.2. </span>Significant trailing line<a class="headerlink" href="#significant-trailing-line" title="Permalink to this heading">#</a></h4>
<p>The last line of text block content is used when determining the common
whitespace prefix.</p>
<p>Consider the following example:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Foo</span>
<span class="s2">        Baz</span>
<span class="s2">    Bar</span>
<span class="s2">&quot;&quot;&quot;</span>)
</pre></div>
</div>
<p>Because the closing delimiter is at the margin and left of the rest of the
content, the common whitespace prefix is 0 characters, resulting in the
following equivalent string:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;    Foo</span><span class="se">\n</span><span class="s2">        Baz</span><span class="se">\n</span><span class="s2">    Bar</span><span class="se">\n</span><span class="s2">&quot;</span>)
</pre></div>
</div>
<p>If the closing delimiter is moved to the right of the content, then it has
no bearing on the common whitespace prefix. The common whitespace prefix in
the following example is visualized using &quot;.&quot; to represent spaces:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;&quot;&quot;</span>
<span class="s2">....Foo</span>
<span class="s2">....    Baz</span>
<span class="s2">....Bar</span>
<span class="s2">        &quot;&quot;&quot;</span>)
</pre></div>
</div>
<p>Because lines are trimmed when they are added to the result, the above example
is equivalent to the following:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@documentation</span>(<span class="s2">&quot;Foo</span><span class="se">\n</span><span class="s2">    Baz</span><span class="se">\n</span><span class="s2">Bar</span><span class="se">\n</span><span class="s2">&quot;</span>)
</pre></div>
</div>
</div>
<div class="section" id="escapes-in-text-blocks">
<h4><span class="section-number">18.8.3.3. </span>Escapes in text blocks<a class="headerlink" href="#escapes-in-text-blocks" title="Permalink to this heading">#</a></h4>
<p>Text blocks support all of the <a class="reference internal" href="#string-escape-characters"><span class="std std-ref">string escape characters</span></a>
of other strings. The use of three double quotes allows unescaped double quotes
(&quot;) to appear in text blocks. The following text block is interpreted as
<code class="docutils literal notranslate"><span class="pre">&quot;hello!&quot;</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&quot;hello!&quot;</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Three quotes can appear in a text block without being treated as the closing
delimiter as long as one of the quotes are escaped. The following text block
is interpreted as <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">&quot;&quot;&quot;\nbaz</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">foo </span><span class="se">\&quot;</span><span class="s2">&quot;&quot;</span>
<span class="s2">baz&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>String escapes are interpreted <strong>after</strong> <a class="reference internal" href="#incidental-whitespace"><span class="std std-ref">incidental whitespace</span></a>
is removed from a text block. The following example uses &quot;.&quot; to denote spaces:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">..&lt;div&gt;</span>
<span class="s2">....&lt;p&gt;Hi</span><span class="se">\n</span><span class="s2">....bar&lt;/p&gt;</span>
<span class="s2">..&lt;/div&gt;</span>
<span class="s2">..&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Because string escapes are expanded after incidental whitespace is removed, it
is interpreted as:</p>
<div class="no-copybutton highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;div&gt;
..&lt;p&gt;Hi
....bar&lt;/p&gt;
&lt;/div&gt;
</pre></div>
</div>
<p>New lines in the text block can be escaped. This allows for long, single-line
strings to be broken into multiple lines in the IDL. The following example
is interpreted as <code class="docutils literal notranslate"><span class="pre">Foo</span> <span class="pre">Baz</span> <span class="pre">Bam</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Foo </span><span class="se">\</span>
<span class="s2">Baz </span><span class="se">\</span>
<span class="s2">Bam&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Escaped new lines can be intermixed with unescaped newlines. The following
example is interpreted as <code class="docutils literal notranslate"><span class="pre">Foo\nBaz</span> <span class="pre">Bam</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Foo</span>
<span class="s2">Baz </span><span class="se">\</span>
<span class="s2">Bam&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="json-ast.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">19. </span>JSON AST</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="model-validation.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">17. </span>Model validation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Amazon Web Services
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/awslabs/smithy" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">18. Smithy IDL</a><ul>
<li><a class="reference internal" href="#smithy-idl-overview">18.1. Smithy IDL overview</a></li>
<li><a class="reference internal" href="#lexical-notes">18.2. Lexical notes</a></li>
<li><a class="reference internal" href="#smithy-idl-abnf">18.3. Smithy IDL ABNF</a></li>
<li><a class="reference internal" href="#comments">18.4. Comments</a></li>
<li><a class="reference internal" href="#control-section">18.5. Control section</a><ul>
<li><a class="reference internal" href="#version-statement">18.5.1. Version statement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#metadata-section">18.6. Metadata section</a></li>
<li><a class="reference internal" href="#shape-section">18.7. Shape section</a><ul>
<li><a class="reference internal" href="#namespaces">18.7.1. Namespaces</a></li>
<li><a class="reference internal" href="#referring-to-shapes">18.7.2. Referring to shapes</a><ul>
<li><a class="reference internal" href="#relative-shape-id-resolution">18.7.2.1. Relative shape ID resolution</a></li>
<li><a class="reference internal" href="#syntactic-shape-ids">18.7.2.2. Syntactic shape IDs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#defining-shapes">18.7.3. Defining shapes</a><ul>
<li><a class="reference internal" href="#simple-shapes">18.7.3.1. Simple shapes</a></li>
<li><a class="reference internal" href="#enum-shapes">18.7.3.2. Enum shapes</a></li>
<li><a class="reference internal" href="#intenum-shapes">18.7.3.3. IntEnum shapes</a></li>
<li><a class="reference internal" href="#list-shapes">18.7.3.4. List shapes</a></li>
<li><a class="reference internal" href="#map-shapes">18.7.3.5. Map shapes</a></li>
<li><a class="reference internal" href="#structure-shapes">18.7.3.6. Structure shapes</a></li>
<li><a class="reference internal" href="#union-shapes">18.7.3.7. Union shapes</a></li>
<li><a class="reference internal" href="#service-shape">18.7.3.8. Service shape</a></li>
<li><a class="reference internal" href="#operation-shape">18.7.3.9. Operation shape</a><ul>
<li><a class="reference internal" href="#inline-input-output-shapes">18.7.3.9.1. Inline input / output shapes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resource-shape">18.7.3.10. Resource shape</a></li>
<li><a class="reference internal" href="#mixins">18.7.3.11. Mixins</a></li>
<li><a class="reference internal" href="#target-elision">18.7.3.12. Target Elision</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation-comment">18.7.4. Documentation comment</a></li>
<li><a class="reference internal" href="#applying-traits">18.7.5. Applying traits</a><ul>
<li><a class="reference internal" href="#trait-values">18.7.5.1. Trait values</a></li>
<li><a class="reference internal" href="#structure-map-and-union-trait-value-syntax">18.7.5.2. Structure, map, and union trait value syntax</a></li>
<li><a class="reference internal" href="#omitted-trait-values">18.7.5.3. Omitted trait values</a></li>
<li><a class="reference internal" href="#apply-statement">18.7.5.4. Apply statement</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#node-values">18.8. Node values</a><ul>
<li><a class="reference internal" href="#string-values">18.8.1. String values</a></li>
<li><a class="reference internal" href="#string-escape-characters">18.8.2. String escape characters</a></li>
<li><a class="reference internal" href="#text-blocks">18.8.3. Text blocks</a><ul>
<li><a class="reference internal" href="#incidental-white-space-removal">18.8.3.1. Incidental white space removal</a></li>
<li><a class="reference internal" href="#significant-trailing-line">18.8.3.2. Significant trailing line</a></li>
<li><a class="reference internal" href="#escapes-in-text-blocks">18.8.3.3. Escapes in text blocks</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    </body>
</html>