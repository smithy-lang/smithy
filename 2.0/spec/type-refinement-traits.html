<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="8. Documentation traits" href="documentation-traits.html"><link rel="prev" title="6. Constraint traits" href="constraint-traits.html">
        <link rel="prefetch" href="../_static/smithy.svg" as="image">
        <link rel="prefetch" href="../_static/smithy-dark.svg" as="image">

    <link rel="shortcut icon" href="../_static/favicon.svg"><!-- Generated with Sphinx 8.2.3 and Furo 2025.12.19 -->
        <title>7. Type refinement traits - Smithy 2.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=0abfef4d" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 100%;
  --admonition-title-font-size: 100%;
  --color-brand-primary: #C44536;
  --color-brand-content: #00808b;
  --color-announcement-background: #f8f8f8;
  --color-announcement-text: #383838;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: ##1a1c1e;;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: ##1a1c1e;;
  
      }
    }
  }
</style><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js"></script>
<script src="https://d2c.aws.amazon.com/client/loader/v1/d2c-load.js"></script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Smithy 2.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="/index.html">
  
  <div class="sidebar-brand-icon">
    <img class="sidebar-logo only-light" src="../_static/smithy.svg" alt="Logo">
    <img class="sidebar-logo only-dark" src="../_static/smithy-dark.svg" alt="Logo">
  </div>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Smithy specification</a><input aria-label="Toggle navigation of Smithy specification" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="model.html">1. The Smithy model</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple-types.html">2. Simple types</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregate-types.html">3. Aggregate types</a></li>
<li class="toctree-l2"><a class="reference internal" href="service-types.html">4. Service types</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixins.html">5. Mixins</a></li>
<li class="toctree-l2"><a class="reference internal" href="constraint-traits.html">6. Constraint traits</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">7. Type refinement traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation-traits.html">8. Documentation traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="behavior-traits.html">9. Behavior traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="resource-traits.html">10. Resource traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication-traits.html">11. Authentication traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocol-traits.html">12. Serialization and Protocol traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="streaming.html">13. Streaming</a></li>
<li class="toctree-l2"><a class="reference internal" href="http-bindings.html">14. HTTP bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-traits.html">15. Endpoint traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="selectors.html">16. Selectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-validation.html">17. Model validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="idl.html">18. Smithy IDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="json-ast.html">19. JSON AST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../trait-index.html">Trait index</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">Guides</a><input aria-label="Toggle navigation of Guides" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/smithy-cli/index.html">The Smithy CLI</a><input aria-label="Toggle navigation of The Smithy CLI" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/smithy-cli/cli_installation.html">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/smithy-build-json.html">smithy-build.json</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/gradle-plugin/index.html">Smithy Gradle Plugins</a><input aria-label="Toggle navigation of Smithy Gradle Plugins" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/gradle-plugin/gradle-migration-guide.html">Migrating to Gradle plugin version 0.10.0+</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/using-code-generation/index.html">Code Generation</a><input aria-label="Toggle navigation of Code Generation" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-code-generation/update-model.html">Updating the Smithy Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-code-generation/generating-a-client.html">Generating a client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/model-linters.html">Linting Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/model-validation-examples.html">Model Validation Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/evolving-models.html">Evolving Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/style-guide.html">Style Guide</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/model-translations/index.html">Model Translations</a><input aria-label="Toggle navigation of Model Translations" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/model-translations/converting-to-openapi.html">Converting Smithy to OpenAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/model-translations/migrating-idl-1-to-2.html">Smithy IDL 1.0 to 2.0 Migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/model-translations/generating-cloudformation-resources.html">Generating CloudFormation Resource Schemas from Smithy</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/building-codegen/index.html">Creating a Code Generator</a><input aria-label="Toggle navigation of Creating a Code Generator" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/overview-and-concepts.html">Overview and Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/mapping-shapes-to-languages.html">Mapping Smithy Shapes to Your Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/creating-codegen-repo.html">Creating a Codegen Repo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/configuring-the-generator.html">Configuring the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/implementing-the-generator.html">Implementing the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/making-codegen-pluggable.html">Making Codegen Pluggable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/generating-code.html">Generating Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/decoupling-codegen-with-symbols.html">Decoupling Codegen with Symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/using-the-semantic-model.html">Using the Semantic Model</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/client-guidance/index.html">Smithy Client Guidance</a><input aria-label="Toggle navigation of Smithy Client Guidance" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../guides/client-guidance/application-protocols/index.html">Application Protocols</a><input aria-label="Toggle navigation of Application Protocols" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/client-guidance/application-protocols/http.html">HTTP</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input aria-label="Toggle navigation of Tutorials" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/full-stack-tutorial.html">Full Stack Application</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../additional-specs/index.html">Additional specs</a><input aria-label="Toggle navigation of Additional specs" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/ai-traits.html">Smithy AI Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/http-protocol-compliance-tests.html">HTTP Protocol Compliance Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/smoke-tests.html">Smoke Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/waiters.html">Waiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/mqtt.html">MQTT Protocol Bindings</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../additional-specs/rules-engine/index.html">Rules engine</a><input aria-label="Toggle navigation of Rules engine" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/rules-engine/specification.html">Rules engine specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/rules-engine/parameters.html">Rules engine parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/rules-engine/standard-library.html">Rules engine standard library</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../additional-specs/protocols/index.html">Protocols</a><input aria-label="Toggle navigation of Protocols" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../additional-specs/protocols/smithy-rpc-v2.html">Smithy RPC v2 CBOR protocol</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../aws/index.html">AWS integrations</a><input aria-label="Toggle navigation of AWS integrations" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-core.html">AWS Core Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-auth.html">AWS Authentication Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-endpoints-region.html">AWS Declarative Endpoint Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-iam.html">AWS IAM traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/amazon-apigateway.html">Amazon API Gateway traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-cloudformation.html">AWS CloudFormation Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/amazon-eventstream.html">Amazon Event Stream Specification</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/protocols/index.html">AWS Protocols</a><input aria-label="Toggle navigation of AWS Protocols" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-restjson1-protocol.html">AWS restJson1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-json-1_0-protocol.html">AWS JSON 1.0 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-json-1_1-protocol.html">AWS JSON 1.1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-restxml-protocol.html">AWS restXml protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-query-protocol.html">AWS query protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-ec2-query-protocol.html">AWS EC2 query protocol</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/customizations/index.html">AWS Service Customizations</a><input aria-label="Toggle navigation of AWS Service Customizations" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/apigateway-customizations.html">Amazon API Gateway Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/glacier-customizations.html">Amazon Glacier Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/machinelearning-customizations.html">Amazon Machine Learning Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/s3-customizations.html">Amazon S3 Customizations</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/rules-engine/index.html">AWS rules engine extensions</a><input aria-label="Toggle navigation of AWS rules engine extensions" class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/rules-engine/built-ins.html">AWS rules engine built-ins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/rules-engine/library-functions.html">AWS rules engine library functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/rules-engine/auth-schemes.html">AWS rules engine authentication scheme validators</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Languages</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../languages/java/index.html">Java</a><input aria-label="Toggle navigation of Java" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../languages/java/quickstart.html">Java Quickstart</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../languages/java/client/index.html">Client User Guide</a><input aria-label="Toggle navigation of Client User Guide" class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../languages/java/client/generating-clients.html">Generating Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/java/client/configuration.html">Configuring Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/java/client/customization.html">Customizing Client Behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/java/client/plugins.html">Client Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/java/client/dynamic-client.html">Dynamic Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/java/client/codegen-integrations.html">Codegen Integrations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-java">Source code</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-java/tree/0.0.3/examples">Smithy Java Examples</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../languages/typescript/index.html">TypeScript</a><input aria-label="Toggle navigation of TypeScript" class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../languages/typescript/quickstart.html">TypeScript Quickstart</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../languages/typescript/ts-ssdk/index.html">Server Generator for TypeScript</a><input aria-label="Toggle navigation of Server Generator for TypeScript" class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../languages/typescript/ts-ssdk/introduction.html">Introduction to the Smithy Server Generator for TypeScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/typescript/ts-ssdk/handlers.html">Smithy Server Generator for TypeScript handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/typescript/ts-ssdk/validation.html">Smithy Server Generator for TypeScript validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/typescript/ts-ssdk/error-handling.html">Smithy Server Generator for TypeScript error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../languages/typescript/ts-ssdk/supported-endpoints.html">Smithy Server Generator for TypeScript supported endpoints</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-typescript">Source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/full-stack-tutorial.html">Smithy Full Stack Application</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../languages/rust/index.html">Rust</a><input aria-label="Toggle navigation of Rust" class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://smithy-lang.github.io/smithy-rs/design/">Design Documentation</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-rs">Source code</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../languages/python/index.html">Python</a><input aria-label="Toggle navigation of Python" class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-python">Source code</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../languages/kotlin/index.html">Kotlin</a><input aria-label="Toggle navigation of Kotlin" class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://github.com/smithy-lang/smithy-kotlin">Source code</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../languages/golang/index.html">GoLang</a><input aria-label="Toggle navigation of GoLang" class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://github.com/aws/smithy-go">Source code</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../languages/scala/index.html">Scala</a><input aria-label="Toggle navigation of Scala" class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://disneystreaming.github.io/smithy4s/">Documentation</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/disneystreaming/smithy4s">Source code</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy">Source code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/awesome-smithy">Awesome Smithy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy-examples">Smithy Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/1.0/">1.0 Documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/smithy-lang/smithy/blob/main/docs/source-2.0/spec/type-refinement-traits.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/smithy-lang/smithy/edit/main/docs/source-2.0/spec/type-refinement-traits.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="type-refinement-traits">
<h1><span class="section-number">7. </span>Type refinement traits<a class="headerlink" href="#type-refinement-traits" title="Link to this heading">¶</a></h1>
<p>Type refinement traits are traits that significantly refine, or change, the
type of a shape.</p>
<section id="default-trait">
<span id="smithy-api-default-trait"></span><span id="id1"></span><h2><span class="section-number">7.1. </span><code class="docutils literal notranslate"><span class="pre">default</span></code> trait<a class="headerlink" href="#default-trait" title="Link to this heading">¶</a></h2>
<dl>
<dt>Summary</dt><dd><p>Provides a structure member with a default value.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:is(simpleType,</span> <span class="pre">list,</span> <span class="pre">map,</span> <span class="pre">structure</span> <span class="pre">&gt;</span> <span class="pre">member</span> <span class="pre">:test(&gt;</span> <span class="pre">:is(simpleType,</span> <span class="pre">list,</span> <span class="pre">map)))</span></code></p>
<p>A simple type, list, map, or a member of a structure that targets a simple type, list, or map.</p>
</dd>
<dt>Value type</dt><dd><p>Document type.</p>
</dd>
<dt>See also</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="aggregate-types.html#structure-optionality"><span class="std std-ref">Structure member optionality</span></a></p></li>
<li><p><a class="reference internal" href="#required-trait"><span class="std std-ref">required trait</span></a></p></li>
<li><p><a class="reference internal" href="#clientoptional-trait"><span class="std std-ref">clientOptional trait</span></a></p></li>
<li><p><a class="reference internal" href="#input-trait"><span class="std std-ref">input trait</span></a></p></li>
</ul>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait assigns a default value to a structure member. The
following example defines a structure with a &quot;language&quot; member that has a
default value:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">Message</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">title</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>

<span class="w">    </span><span class="py">language</span><span class="p">:</span><span class="w"> </span><span class="vc">Language</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;en&quot;</span>
}

<span class="kd">enum </span><span class="nc">Language</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">EN</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;en&quot;</span>
}
</pre></div>
</div>
<p>The above example uses syntactic sugar to apply the <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait. The
<code class="docutils literal notranslate"><span class="pre">Message</span></code> definition is exactly equivalent to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">Message</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">title</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>

<span class="w">    </span><span class="nt">@default</span>(<span class="s2">&quot;en&quot;</span>)
<span class="w">    </span><span class="py">language</span><span class="p">:</span><span class="w"> </span><span class="vc">Language</span>
}
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait can be added to root-level simple types, lists, or
maps. This can serve as a kind of template to enforce default values across
structure members in a model. Any structure member that targets a shape
marked with <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> MUST also add a matching <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait to the
member.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">integer </span><span class="nc">ZeroValueInteger</span>

<span class="kd">structure </span><span class="nc">Message</span><span class="w"> </span>{
<span class="w">    </span><span class="py">zeroValueInteger</span><span class="p">:</span><span class="w"> </span><span class="vc">ZeroValueInteger</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="c">// must be repeated and match the target.</span>
}
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait on a structure member can be set to <code class="docutils literal notranslate"><span class="pre">null</span></code> to
explicitly indicate that the member has no default value or to override the default
value requirement of a targeted shape.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">integer </span><span class="nc">ZeroValueInteger</span>

<span class="kd">structure </span><span class="nc">Message</span><span class="w"> </span>{
<span class="w">    </span><span class="py">zeroValueInteger</span><span class="p">:</span><span class="w"> </span><span class="vc">ZeroValueInteger</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="c">// forces the member to be optional</span>
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait on root-level shapes has no impact when targeted by
any other shape than a structure member.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait on root-level shapes cannot be set to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
<li><p>The <a class="reference internal" href="#clientoptional-trait"><span class="std std-ref">clientOptional trait</span></a> applied to a member marked with the
<code class="docutils literal notranslate"><span class="pre">default</span></code> trait causes non-authoritative generators to ignore the
<code class="docutils literal notranslate"><span class="pre">default</span></code> trait.</p></li>
</ul>
</div>
<section id="default-value-constraints">
<h3><span class="section-number">7.1.1. </span>Default value constraints<a class="headerlink" href="#default-value-constraints" title="Link to this heading">¶</a></h3>
<p>The value of the <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait MUST be compatible with the shape targeted
by the member and any applied constraint traits (for example, values for
numeric types MUST be numbers that fit within the targeted type and match any
<a class="reference internal" href="constraint-traits.html#range-trait"><span class="std std-ref">range</span></a> constraints, string types match any
<a class="reference internal" href="constraint-traits.html#length-trait"><span class="std std-ref">length</span></a> or <a class="reference internal" href="constraint-traits.html#pattern-trait"><span class="std std-ref">pattern</span></a> traits, etc).</p>
<p>The following shapes have restrictions on their default values:</p>
<ul class="simple">
<li><p>blob: can be set to any valid base64-encoded string.</p></li>
<li><p>enum: can be set to any valid string <em>value</em> of the enum.</p></li>
<li><p>intEnum: can be set to any valid integer <em>value</em> of the enum.</p></li>
<li><p>document: can be set to <code class="docutils literal notranslate"><span class="pre">null</span></code>, <code class="docutils literal notranslate"><span class="pre">`true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code>, string, numbers,
an empty list, or an empty map.</p></li>
<li><p>list: can only be set to an empty list.</p></li>
<li><p>map: can only be set to an empty map.</p></li>
<li><p>structure: no default value.</p></li>
<li><p>union: no default value.</p></li>
</ul>
</section>
<section id="impact-on-api-design">
<h3><span class="section-number">7.1.2. </span>Impact on API design<a class="headerlink" href="#impact-on-api-design" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait SHOULD NOT be used for partial updates or patch style
operations where it is necessary to differentiate between omitted values and
explicitly set values. Assigning default values is typically something that
occurs during deserialization, and as such, it is impossible for a server to
differentiate between whether a property was set to its default value or if a
property was omitted.</p>
</section>
<section id="updating-default-values">
<h3><span class="section-number">7.1.3. </span>Updating default values<a class="headerlink" href="#updating-default-values" title="Link to this heading">¶</a></h3>
<p>The default value of a root-level shape MUST NOT be changed nor can the default
trait be added or removed from an existing root-level shape. Changing the
default value of a root-level shape would cause any member reference to the
shape to break and could inadvertently impact code generated types for the
shape.</p>
<p>The default value of a member SHOULD NOT be changed. However, it MAY be
necessary in extreme cases to change a default value if changing the default
value addresses a customer-impacting issue or availability issue for a service.
Changing default values can result in parties disagreeing on the default value
of a member because they are using different versions of the same model.</p>
</section>
<section id="default-value-serialization">
<h3><span class="section-number">7.1.4. </span>Default value serialization<a class="headerlink" href="#default-value-serialization" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Implementations that ignore <code class="docutils literal notranslate"><span class="pre">default</span></code> traits do not assume a default
value for a member. For example, non-authoritative implementations
will ignore the <code class="docutils literal notranslate"><span class="pre">default</span></code> trait when a member is marked with the
<a class="reference internal" href="#clientoptional-trait"><span class="std std-ref">clientOptional trait</span></a>. These implementations would serialize any
explicitly given value, even if it happens to be the default value.</p></li>
<li><p>All effective default values SHOULD be serialized. This ensures that
messages are unambiguous and do not change during deserialization if the
default value for a member changes after the message was serialized.</p></li>
<li><p>To avoid information disclosure, implementations MAY choose to not serialize
a default value if the member is marked with the <a class="reference internal" href="documentation-traits.html#internal-trait"><span class="std std-ref">internal trait</span></a>.</p></li>
<li><p>A member marked <code class="docutils literal notranslate"><span class="pre">&#64;required</span></code> MUST be serialized, including members that
have a default.</p></li>
</ol>
</section>
</section>
<section id="addeddefault-trait">
<span id="smithy-api-addeddefault-trait"></span><span id="id2"></span><h2><span class="section-number">7.2. </span><code class="docutils literal notranslate"><span class="pre">addedDefault</span></code> trait<a class="headerlink" href="#addeddefault-trait" title="Link to this heading">¶</a></h2>
<dl>
<dt>Summary</dt><dd><p>Indicates that the <a class="reference internal" href="#default-trait"><span class="std std-ref">default trait</span></a> was added to a structure member
after initially publishing the member. This allows tooling to decide
whether to ignore the <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait if it will break backward
compatibility in the tool.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span> <span class="pre">&gt;</span> <span class="pre">member</span> <span class="pre">[trait|default]</span></code></p>
<p><em>Member of a structure marked with the default trait</em></p>
</dd>
<dt>Value type</dt><dd><p>Annotation trait.</p>
</dd>
<dt>See also</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="aggregate-types.html#structure-optionality"><span class="std std-ref">Structure member optionality</span></a></p></li>
<li><p><a class="reference internal" href="#default-trait"><span class="std std-ref">default trait</span></a></p></li>
<li><p><a class="reference internal" href="#clientoptional-trait"><span class="std std-ref">clientOptional trait</span></a></p></li>
<li><p><a class="reference internal" href="#input-trait"><span class="std std-ref">input trait</span></a></p></li>
<li><p><a class="reference internal" href="documentation-traits.html#recommended-trait"><span class="std std-ref">recommended trait</span></a></p></li>
</ul>
</dd>
</dl>
</section>
<section id="required-trait">
<span id="smithy-api-required-trait"></span><span id="id3"></span><h2><span class="section-number">7.3. </span><code class="docutils literal notranslate"><span class="pre">required</span></code> trait<a class="headerlink" href="#required-trait" title="Link to this heading">¶</a></h2>
<dl>
<dt>Summary</dt><dd><p>Marks a structure member as required, meaning a value for the member MUST
be present.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span> <span class="pre">&gt;</span> <span class="pre">member</span></code></p>
<p><em>Member of a structure</em></p>
</dd>
<dt>Value type</dt><dd><p>Annotation trait.</p>
</dd>
<dt>See also</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="aggregate-types.html#structure-optionality"><span class="std std-ref">Structure member optionality</span></a></p></li>
<li><p><a class="reference internal" href="#default-trait"><span class="std std-ref">default trait</span></a></p></li>
<li><p><a class="reference internal" href="#clientoptional-trait"><span class="std std-ref">clientOptional trait</span></a></p></li>
<li><p><a class="reference internal" href="#input-trait"><span class="std std-ref">input trait</span></a></p></li>
<li><p><a class="reference internal" href="documentation-traits.html#recommended-trait"><span class="std std-ref">recommended trait</span></a></p></li>
</ul>
</dd>
</dl>
<p>The following example defines a structure with a required member.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">MyStructure</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">FooString</span>
}
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The required trait isn't just for inputs</p>
<p>The required trait indicates that value MUST always be present for a
member. It applies to all shapes, including inputs of operations, outputs
of operations, and errors.</p>
</div>
</section>
<section id="clientoptional-trait">
<span id="smithy-api-clientoptional-trait"></span><span id="id4"></span><h2><span class="section-number">7.4. </span><code class="docutils literal notranslate"><span class="pre">clientOptional</span></code> trait<a class="headerlink" href="#clientoptional-trait" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Summary</dt><dd><p>Requires that non-authoritative generators like clients treat a structure
member as optional regardless of if the member is also marked with the
<a class="reference internal" href="#required-trait"><span class="std std-ref">required trait</span></a> or <a class="reference internal" href="#default-trait"><span class="std std-ref">default trait</span></a>.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span> <span class="pre">&gt;</span> <span class="pre">member</span></code></p>
</dd>
<dt>Value type</dt><dd><p>Annotation trait</p>
</dd>
<dt>See also</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="aggregate-types.html#structure-optionality"><span class="std std-ref">Structure member optionality</span></a></p></li>
<li><p><a class="reference internal" href="#required-trait"><span class="std std-ref">required trait</span></a></p></li>
<li><p><a class="reference internal" href="#default-trait"><span class="std std-ref">default trait</span></a></p></li>
<li><p><a class="reference internal" href="#input-trait"><span class="std std-ref">input trait</span></a></p></li>
</ul>
</dd>
</dl>
<p>For cases when a service is unsure if a member will be required forever, the
member can be marked with the <code class="docutils literal notranslate"><span class="pre">&#64;clientOptional</span></code> trait to ensure that
non-authoritative consumers of the model like clients treat the member as
optional. The <code class="docutils literal notranslate"><span class="pre">&#64;required</span></code> trait can be backward compatibly removed from a
member marked as <code class="docutils literal notranslate"><span class="pre">&#64;clientOptional</span></code> (and does not need to be replaced with
the <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait). This causes the <code class="docutils literal notranslate"><span class="pre">&#64;required</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> traits
to function only as a server-side concern.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;required</span></code> trait on <code class="docutils literal notranslate"><span class="pre">foo</span></code> in the following structure is considered a
validation constraint rather than a type refinement trait:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">Foo</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="nt">@clientOptional</span>
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Structure members in Smithy are automatically considered optional. For example,
the following structure:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">Foo</span><span class="w"> </span>{
<span class="w">    </span><span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>Is equivalent to the following structure:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">Foo</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@clientOptional</span>
<span class="w">    </span><span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
</div>
</section>
<section id="enumvalue-trait">
<span id="smithy-api-enumvalue-trait"></span><span id="id5"></span><h2><span class="section-number">7.5. </span><code class="docutils literal notranslate"><span class="pre">enumValue</span></code> trait<a class="headerlink" href="#enumvalue-trait" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Summary</dt><dd><p>Defines the value of an <a class="reference internal" href="simple-types.html#enum"><span class="std std-ref">enum</span></a> or <a class="reference internal" href="simple-types.html#intenum"><span class="std std-ref">intEnum</span></a>.
For enum shapes, a non-empty string value must be used. For intEnum
shapes, an integer value must be used.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:is(enum,</span> <span class="pre">intEnum)</span> <span class="pre">&gt;</span> <span class="pre">member</span></code></p>
</dd>
<dt>Value type</dt><dd><p><code class="docutils literal notranslate"><span class="pre">string</span></code> or <code class="docutils literal notranslate"><span class="pre">integer</span></code></p>
</dd>
</dl>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">enum </span><span class="nc">Enum</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@enumValue</span>(<span class="s2">&quot;foo&quot;</span>)
<span class="w">    </span><span class="vc">FOO</span>
}

<span class="kd">intEnum </span><span class="nc">IntEnum</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@enumValue</span>(<span class="m">1</span>)
<span class="w">    </span><span class="vc">FOO</span>
}
</pre></div>
</div>
<p>The following enum definition uses syntactic sugar that is exactly equivalent:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">enum </span><span class="nc">Enum</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">FOO</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span>
}

<span class="kd">intEnum </span><span class="nc">IntEnum</span><span class="w"> </span>{
<span class="w">    </span><span class="vc">FOO</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">1</span>
}
</pre></div>
</div>
</section>
<section id="error-trait">
<span id="smithy-api-error-trait"></span><span id="id6"></span><h2><span class="section-number">7.6. </span><code class="docutils literal notranslate"><span class="pre">error</span></code> trait<a class="headerlink" href="#error-trait" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Summary</dt><dd><p>Indicates that a structure shape represents an error. All shapes
referenced by the <a class="reference internal" href="service-types.html#operation"><span class="std std-ref">errors list of an operation</span></a>
MUST be targeted with this trait.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span></code></p>
</dd>
<dt>Value type</dt><dd><p><code class="docutils literal notranslate"><span class="pre">string</span></code> that MUST be set to &quot;client&quot; or &quot;server&quot; to indicate if the
client or server is at fault for the error.</p>
</dd>
<dt>Conflicts with</dt><dd><p><a class="reference internal" href="model.html#trait-shapes"><span class="std std-ref">trait</span></a></p>
</dd>
</dl>
<p>The following structure defines a throttling error.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@error</span>(<span class="s2">&quot;client&quot;</span>)
<span class="kd">structure </span><span class="nc">ThrottlingError</span><span class="w"> </span>{}
</pre></div>
</div>
<p>Note that this structure is lacking the <code class="docutils literal notranslate"><span class="pre">retryable</span></code> trait that generically
lets clients know that the error is retryable.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@error</span>(<span class="s2">&quot;client&quot;</span>)
<span class="nt">@retryable</span>
<span class="kd">structure </span><span class="nc">ThrottlingError</span><span class="w"> </span>{}
</pre></div>
</div>
<p>When using an HTTP-based protocol, it is recommended to add an
<a class="reference internal" href="http-bindings.html#httperror-trait"><span class="std std-ref">httpError trait</span></a> to use an appropriate HTTP status code with
the error.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@error</span>(<span class="s2">&quot;client&quot;</span>)
<span class="nt">@retryable</span>
<span class="nt">@httpError</span>(<span class="m">429</span>)
<span class="kd">structure </span><span class="nc">ThrottlingError</span><span class="w"> </span>{}
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">message</span></code> member of an error structure is special-cased. It contains
the human-readable message that describes the error. If the <code class="docutils literal notranslate"><span class="pre">message</span></code> member
is not defined in the structure, code generated for the error may not provide
an idiomatic way to access the error message (e.g., an exception message
in Java).</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@error</span>(<span class="s2">&quot;client&quot;</span>)
<span class="nt">@retryable</span>
<span class="nt">@httpError</span>(<span class="m">429</span>)
<span class="kd">structure </span><span class="nc">ThrottlingError</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">message</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
</section>
<section id="input-trait">
<span id="smithy-api-input-trait"></span><span id="id7"></span><h2><span class="section-number">7.7. </span><code class="docutils literal notranslate"><span class="pre">input</span></code> trait<a class="headerlink" href="#input-trait" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Summary</dt><dd><p>Specializes a structure for use only as the input of a single operation,
providing relaxed backward compatibility requirements for structure
members.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span></code></p>
</dd>
<dt>Value type</dt><dd><p>Annotation trait.</p>
</dd>
<dt>Conflicts with</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#output-trait"><span class="std std-ref">output trait</span></a></p></li>
<li><p><a class="reference internal" href="#error-trait"><span class="std std-ref">error trait</span></a></p></li>
</ul>
</dd>
<dt>See also</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="aggregate-types.html#structure-optionality"><span class="std std-ref">Structure member optionality</span></a></p></li>
</ul>
</dd>
</dl>
<p>The following example defines an <code class="docutils literal notranslate"><span class="pre">&#64;input</span></code> structure:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@input</span>
<span class="kd">structure </span><span class="nc">SomeOperationInput</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<section id="input-structure-constraints">
<h3><span class="section-number">7.7.1. </span><code class="docutils literal notranslate"><span class="pre">&#64;input</span></code> structure constraints<a class="headerlink" href="#input-structure-constraints" title="Link to this heading">¶</a></h3>
<p>Structure shapes marked with the <code class="docutils literal notranslate"><span class="pre">&#64;input</span></code> trait MUST adhere to the
following constraints:</p>
<ol class="arabic simple">
<li><p>They can only be referenced in the model as an operation's input.</p></li>
<li><p>They cannot be used as the input of more than one operation.</p></li>
<li><p>They SHOULD have a shape name that starts with the name of the
operation that targets it (if any). For example, the input shape of the
<code class="docutils literal notranslate"><span class="pre">GetSprocket</span></code> operation SHOULD be named <code class="docutils literal notranslate"><span class="pre">GetSprocketInput</span></code>,
<code class="docutils literal notranslate"><span class="pre">GetSprocketRequest</span></code>, or something similar.</p></li>
</ol>
<p>These constraints allow tooling to specialize operation input shapes in
ways that would otherwise require complex model transformations.</p>
</section>
<section id="impact-on-backward-compatibility">
<h3><span class="section-number">7.7.2. </span>Impact on backward compatibility<a class="headerlink" href="#impact-on-backward-compatibility" title="Link to this heading">¶</a></h3>
<p>Required members of a structure marked with the <code class="docutils literal notranslate"><span class="pre">&#64;input</span></code> trait are implicitly
considered <a class="reference internal" href="#clientoptional-trait"><span class="std std-ref">clientOptional</span></a>. It is backward
compatible to remove the <code class="docutils literal notranslate"><span class="pre">&#64;required</span></code> trait from top-level members of
structures marked with the <code class="docutils literal notranslate"><span class="pre">&#64;input</span></code> trait, and the <code class="docutils literal notranslate"><span class="pre">&#64;required</span></code> trait does
not need to be replaced with the <code class="docutils literal notranslate"><span class="pre">&#64;default</span></code> trait (though this is allowed
as well). This gives service teams the ability to remove the <code class="docutils literal notranslate"><span class="pre">&#64;required</span></code>
trait from top-level input members and loosen requirements without risking
breaking previously generated clients.</p>
</section>
</section>
<section id="output-trait">
<span id="smithy-api-output-trait"></span><span id="id8"></span><h2><span class="section-number">7.8. </span><code class="docutils literal notranslate"><span class="pre">output</span></code> trait<a class="headerlink" href="#output-trait" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Summary</dt><dd><p>Specializes a structure for use only as the output of a single operation.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span></code></p>
</dd>
<dt>Value type</dt><dd><p>Annotation trait.</p>
</dd>
<dt>Conflicts with</dt><dd><p><a class="reference internal" href="#input-trait"><span class="std std-ref">input trait</span></a>, <a class="reference internal" href="#error-trait"><span class="std std-ref">error trait</span></a></p>
</dd>
</dl>
<section id="output-structure-constraints">
<h3><span class="section-number">7.8.1. </span><code class="docutils literal notranslate"><span class="pre">&#64;output</span></code> structure constraints<a class="headerlink" href="#output-structure-constraints" title="Link to this heading">¶</a></h3>
<p>Structure shapes marked with the <code class="docutils literal notranslate"><span class="pre">&#64;output</span></code> trait MUST adhere to the
following constraints:</p>
<ol class="arabic simple">
<li><p>They can only be referenced in the model as an operation's output.</p></li>
<li><p>They cannot be used as the output of more than one operation.</p></li>
<li><p>They SHOULD have a shape name that starts with the name of the
operation that targets it (if any). For example, the output shape of the
<code class="docutils literal notranslate"><span class="pre">GetSprocket</span></code> operation SHOULD be named <code class="docutils literal notranslate"><span class="pre">GetSprocketOutput</span></code>.</p></li>
</ol>
<p>These constraints allow tooling to specialize operation output shapes in
ways that would otherwise require complex model transformations.</p>
</section>
</section>
<section id="sparse-trait">
<span id="smithy-api-sparse-trait"></span><span id="id9"></span><h2><span class="section-number">7.9. </span><code class="docutils literal notranslate"><span class="pre">sparse</span></code> trait<a class="headerlink" href="#sparse-trait" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Summary</dt><dd><p>Indicates that lists and maps MAY contain <code class="docutils literal notranslate"><span class="pre">null</span></code> values. The <code class="docutils literal notranslate"><span class="pre">sparse</span></code>
trait has no effect on map keys; map keys are never allowed to be <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:is(list,</span> <span class="pre">map)</span></code></p>
</dd>
<dt>Value type</dt><dd><p>Annotation trait.</p>
</dd>
</dl>
<p>The following example defines a <a class="reference internal" href="aggregate-types.html#list"><span class="std std-ref">list</span></a> shape that MAY contain
<code class="docutils literal notranslate"><span class="pre">null</span></code> values:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@sparse</span>
<span class="kd">list </span><span class="nc">SparseList</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>The following example defines a <a class="reference internal" href="aggregate-types.html#map"><span class="std std-ref">map</span></a> shape that MAY contain
<code class="docutils literal notranslate"><span class="pre">null</span></code> values:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@sparse</span>
<span class="kd">map </span><span class="nc">SparseMap</span><span class="w"> </span>{
<span class="w">    </span><span class="py">key</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span><span class="py">value</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
</section>
<section id="mixin-trait">
<span id="smithy-api-mixin-trait"></span><span id="id10"></span><h2><span class="section-number">7.10. </span><code class="docutils literal notranslate"><span class="pre">mixin</span></code> trait<a class="headerlink" href="#mixin-trait" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>Summary</dt><dd><p>Indicates that the targeted shape is a mixin.</p>
</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:not(member)</span></code></p>
</dd>
<dt>Value type</dt><dd><p><code class="docutils literal notranslate"><span class="pre">structure</span></code></p>
</dd>
</dl>
<p>The mixin trait is a structure that contains the following members:</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">localTraits</span></code></p></td>
<td><p>[<a class="reference internal" href="model.html#shape-id"><span class="std std-ref">Shape ID</span></a>]</p></td>
<td><p>A list of shape IDs which MUST reference valid traits that are applied
directly to the mixin. The traits in the list are not copied onto
shapes that use the mixin. This only affects traits applied to the
mixin container shape and has no impact on the members contained within
a mixin.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">mixin</span></code> trait is considered implicitly present in this
property and does not need to be explicitly added.</p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@mixin</span>
<span class="kd">structure </span><span class="nc">BaseUser</span><span class="w"> </span>{
<span class="w">    </span><span class="py">id</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="kd">structure </span><span class="nc">UserDetails</span><span class="w"> </span><span class="k">with</span><span class="w"> </span>[<span class="vc">BaseUser</span>]<span class="w"> </span>{
<span class="w">    </span><span class="py">alias</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
<span class="w">    </span><span class="py">email</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See <a class="reference internal" href="mixins.html"><span class="doc">Mixins</span></a> for details on how mixins work.</p>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="documentation-traits.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">8. </span>Documentation traits</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="constraint-traits.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">6. </span>Constraint traits</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Amazon Web Services
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/smithy-lang/smithy" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">7. Type refinement traits</a><ul>
<li><a class="reference internal" href="#default-trait">7.1. <code class="docutils literal notranslate"><span class="pre">default</span></code> trait</a><ul>
<li><a class="reference internal" href="#default-value-constraints">7.1.1. Default value constraints</a></li>
<li><a class="reference internal" href="#impact-on-api-design">7.1.2. Impact on API design</a></li>
<li><a class="reference internal" href="#updating-default-values">7.1.3. Updating default values</a></li>
<li><a class="reference internal" href="#default-value-serialization">7.1.4. Default value serialization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#addeddefault-trait">7.2. <code class="docutils literal notranslate"><span class="pre">addedDefault</span></code> trait</a></li>
<li><a class="reference internal" href="#required-trait">7.3. <code class="docutils literal notranslate"><span class="pre">required</span></code> trait</a></li>
<li><a class="reference internal" href="#clientoptional-trait">7.4. <code class="docutils literal notranslate"><span class="pre">clientOptional</span></code> trait</a></li>
<li><a class="reference internal" href="#enumvalue-trait">7.5. <code class="docutils literal notranslate"><span class="pre">enumValue</span></code> trait</a></li>
<li><a class="reference internal" href="#error-trait">7.6. <code class="docutils literal notranslate"><span class="pre">error</span></code> trait</a></li>
<li><a class="reference internal" href="#input-trait">7.7. <code class="docutils literal notranslate"><span class="pre">input</span></code> trait</a><ul>
<li><a class="reference internal" href="#input-structure-constraints">7.7.1. <code class="docutils literal notranslate"><span class="pre">&#64;input</span></code> structure constraints</a></li>
<li><a class="reference internal" href="#impact-on-backward-compatibility">7.7.2. Impact on backward compatibility</a></li>
</ul>
</li>
<li><a class="reference internal" href="#output-trait">7.8. <code class="docutils literal notranslate"><span class="pre">output</span></code> trait</a><ul>
<li><a class="reference internal" href="#output-structure-constraints">7.8.1. <code class="docutils literal notranslate"><span class="pre">&#64;output</span></code> structure constraints</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sparse-trait">7.9. <code class="docutils literal notranslate"><span class="pre">sparse</span></code> trait</a></li>
<li><a class="reference internal" href="#mixin-trait">7.10. <code class="docutils literal notranslate"><span class="pre">mixin</span></code> trait</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=60dbed4a"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=6b89569b"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    </body>
</html>