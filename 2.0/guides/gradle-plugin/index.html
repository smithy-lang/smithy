<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Migrating to Gradle plugin version 0.10.0+" href="gradle-migration-guide.html" /><link rel="prev" title="smithy-build.json" href="../smithy-build-json.html" />

    <link rel="shortcut icon" href="../../_static/favicon.png"/><meta name="generator" content="sphinx-5.3.0, furo 2022.06.21"/>
        <title>Smithy Gradle Plugins - Smithy 2.0</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 100%;
  --admonition-title-font-size: 100%;
  --color-brand-primary: #C44536;
  --color-brand-content: #00808b;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
      }
    }
  }
</style><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js"></script>
<script src="https://d2c.aws.amazon.com/client/loader/v1/d2c-load.js"></script></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     <strong> We want your feedback on Smithy.</strong>
Please consider taking our brief <a href="https://amazonmr.au1.qualtrics.com/jfe/form/SV_9Rfqo2wizSpnZPM">survey</a>
 to share your feedback.
 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Smithy 2.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/smithy.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quick start</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../spec/index.html">Smithy specification</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../spec/model.html">1. The Smithy model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/simple-types.html">2. Simple types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/aggregate-types.html">3. Aggregate types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/service-types.html">4. Service types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/mixins.html">5. Mixins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/constraint-traits.html">6. Constraint traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/type-refinement-traits.html">7. Type refinement traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/documentation-traits.html">8. Documentation traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/behavior-traits.html">9. Behavior traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/resource-traits.html">10. Resource traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/authentication-traits.html">11. Authentication traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/protocol-traits.html">12. Serialization and Protocol traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/streaming.html">13. Streaming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/http-bindings.html">14. HTTP bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/endpoint-traits.html">15. Endpoint traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/selectors.html">16. Selectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/model-validation.html">17. Model validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/idl.html">18. Smithy IDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../spec/json-ast.html">19. JSON AST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../trait-index.html">Trait index</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../smithy-cli/index.html">The Smithy CLI</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../smithy-cli/cli_installation.html">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../smithy-build-json.html">smithy-build.json</a></li>
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">Smithy Gradle Plugins</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gradle-migration-guide.html">Migrating to Gradle plugin version 0.10.0+</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../using-code-generation/index.html">Code Generation</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../using-code-generation/update-model.html">Updating the Smithy Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../using-code-generation/generating-a-client.html">Generating a client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../model-linters.html">Linting Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../model-validation-examples.html">Model Validation Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../evolving-models.html">Evolving Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../style-guide.html">Style Guide</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../model-translations/index.html">Model Translations</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../model-translations/converting-to-openapi.html">Converting Smithy to OpenAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../model-translations/migrating-idl-1-to-2.html">Smithy IDL 1.0 to 2.0 Migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../model-translations/generating-cloudformation-resources.html">Generating CloudFormation Resource Schemas from Smithy</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../building-codegen/index.html">Creating a Code Generator</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/overview-and-concepts.html">Overview and Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/mapping-shapes-to-languages.html">Mapping Smithy Shapes to Your Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/creating-codegen-repo.html">Creating a Codegen Repo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/configuring-the-generator.html">Configuring the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/implementing-the-generator.html">Implementing the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/making-codegen-pluggable.html">Making Codegen Pluggable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/generating-code.html">Generating Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/decoupling-codegen-with-symbols.html">Decoupling Codegen with Symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../building-codegen/using-the-semantic-model.html">Using the Semantic Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../additional-specs/index.html">Additional specs</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../additional-specs/http-protocol-compliance-tests.html">HTTP Protocol Compliance Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../additional-specs/smoke-tests.html">Smoke Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../additional-specs/waiters.html">Waiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../additional-specs/mqtt.html">MQTT Protocol Bindings</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../additional-specs/rules-engine/index.html">Rules engine</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../additional-specs/rules-engine/specification.html">Rules engine specification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../additional-specs/rules-engine/parameters.html">Rules engine parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../additional-specs/rules-engine/standard-library.html">Rules engine standard library</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../aws/index.html">AWS integrations</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../aws/aws-core.html">AWS Core Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../aws/aws-auth.html">AWS Authentication Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../aws/aws-endpoints-region.html">AWS Declarative Endpoint Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../aws/aws-iam.html">AWS IAM traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../aws/amazon-apigateway.html">Amazon API Gateway traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../aws/aws-cloudformation.html">AWS CloudFormation Traits</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../aws/protocols/index.html">AWS Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../aws/protocols/aws-restjson1-protocol.html">AWS restJson1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/protocols/aws-json-1_0-protocol.html">AWS JSON 1.0 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/protocols/aws-json-1_1-protocol.html">AWS JSON 1.1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/protocols/aws-restxml-protocol.html">AWS restXml protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/protocols/aws-query-protocol.html">AWS query protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/protocols/aws-ec2-query-protocol.html">AWS EC2 query protocol</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../aws/customizations/index.html">AWS Service Customizations</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../aws/customizations/apigateway-customizations.html">Amazon API Gateway Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/customizations/glacier-customizations.html">Amazon Glacier Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/customizations/machinelearning-customizations.html">Amazon Machine Learning Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/customizations/s3-customizations.html">Amazon S3 Customizations</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../aws/rules-engine/index.html">AWS rules engine extensions</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../aws/rules-engine/built-ins.html">AWS rules engine built-ins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/rules-engine/library-functions.html">AWS rules engine library functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../aws/rules-engine/auth-schemes.html">AWS rules engine authentication scheme validators</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ts-ssdk/index.html">Smithy Server Generator for TypeScript</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ts-ssdk/introduction.html">Introduction to the Smithy Server Generator for TypeScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ts-ssdk/handlers.html">Smithy Server Generator for TypeScript handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ts-ssdk/validation.html">Smithy Server Generator for TypeScript validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ts-ssdk/error-handling.html">Smithy Server Generator for TypeScript error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ts-ssdk/supported-endpoints.html">Smithy Server Generator for TypeScript supported endpoints</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy">Source code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/awesome-smithy">Awesome Smithy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy-examples">Smithy Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/1.0/">1.0 Documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/awslabs/smithy/edit/main/docs/source-2.0/guides/gradle-plugin/index.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="smithy-gradle-plugins">
<span id="smithy-gradle-plugin"></span><h1>Smithy Gradle Plugins<a class="headerlink" href="#smithy-gradle-plugins" title="Permalink to this heading">#</a></h1>
<p>The <a class="reference external" href="https://github.com/awslabs/smithy-gradle-plugin/">Smithy Gradle plugins</a> integrate Smithy with the <a class="reference external" href="https://gradle.org/">Gradle</a> build system. These plugin can
build artifacts from Smithy models, and generate JARs for Smithy models and model
<a class="reference internal" href="../smithy-build-json.html#projections"><span class="std std-ref">projections</span></a>.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Migrate to version 0.8.0+</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gradle-migration-guide.html">Migrating to Gradle plugin version 0.10.0+</a></li>
</ul>
</div>
<div class="section" id="plugins">
<h2>Plugins<a class="headerlink" href="#plugins" title="Permalink to this heading">#</a></h2>
<p>Two official <a class="reference external" href="https://gradle.org/">Gradle</a> plugins are available:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/smithy-lang/smithy-gradle-plugin#smithy-base-plugin">smithy-base</a>:</dt><dd>This plugin configures the <a class="reference external" href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.SourceSet.html">SourceSet</a>'s and <a class="reference external" href="https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.Configuration.html">Configuration</a>'s
for a Smithy project. It also creates the base <code class="docutils literal notranslate"><span class="pre">smithyBuild</span></code> task for the project that
builds the Smithy models and build artifacts for the project.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/smithy-lang/smithy-gradle-plugin#smithy-jar-plugin">smithy-jar</a>:</dt><dd>Adds Smithy files to an existing JAR created by a <code class="docutils literal notranslate"><span class="pre">jar</span></code> task (usually created
by the <a class="reference external" href="https://docs.gradle.org/current/userguide/java_plugin.html">Java plugin</a> or <a class="reference external" href="https://plugins.gradle.org/plugin/org.jetbrains.kotlin.jvm">Kotlin JVM plugin</a>). The <code class="docutils literal notranslate"><span class="pre">smithy-jar</span></code> plugin also adds build metadata
and tags to the JAR's MANIFEST. The <code class="docutils literal notranslate"><span class="pre">smithy-jar</span></code> plugin applies the <code class="docutils literal notranslate"><span class="pre">smithy-base</span></code> plugin when
applied.</dd>
</dl>
</li>
</ul>
<div class="note admonition">
<p class="first admonition-title">Which plugin should I use?</p>
<p class="last">Most users should use the <code class="docutils literal notranslate"><span class="pre">smithy-jar</span></code> plugin. If you are building shared model packages,
custom traits, custom linters, or codegen integrations you should use the <code class="docutils literal notranslate"><span class="pre">smithy-jar</span></code> plugin.
If you are writing a code generator you can use the <code class="docutils literal notranslate"><span class="pre">smithy-base</span></code> plugin to set up basic
<a class="reference external" href="https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.Configuration.html">Configuration</a>'s and provide access to Smithy gradle tasks.</p>
</div>
<div class="section" id="applying-plugins">
<span id="plugin-apply"></span><h3>Applying Plugins<a class="headerlink" href="#applying-plugins" title="Permalink to this heading">#</a></h3>
<p>The Smithy Gradle plugins are applied using the <code class="docutils literal notranslate"><span class="pre">plugins</span></code> block of a gradle build script.
The following example configures a project to use the <code class="docutils literal notranslate"><span class="pre">smithy-base</span></code> Gradle plugin:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id9" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy.gradle.smithy-base&quot;</span><span class="p">).</span><span class="na">version</span><span class="p">(</span><span class="s">&quot;0.10.0&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id10" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;software.amazon.smithy.gradle.smithy-base&#39;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s1">&#39;0.10.0&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="admonition note" id="smithy-model-sources">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">smithy-jar</span></code> plugin requires that a <cite>jar</cite> task be registered
before it is applied. The <a class="reference external" href="https://docs.gradle.org/current/userguide/java_plugin.html">Java Plugin</a> and <a class="reference external" href="https://plugins.gradle.org/plugin/org.jetbrains.kotlin.jvm">Kotlin JVM plugin</a>
are commonly used plugins that both register a <cite>jar</cite> task.</p>
</div>
</div>
</div>
<div class="section" id="complete-examples">
<h2>Complete Examples<a class="headerlink" href="#complete-examples" title="Permalink to this heading">#</a></h2>
<p>For several complete examples, see the <a class="reference external" href="https://github.com/awslabs/smithy-gradle-plugin/tree/main/examples">examples directory</a> of the <a class="reference external" href="https://github.com/awslabs/smithy-gradle-plugin/">Smithy
Gradle plugins</a> repository, or check out the <a class="reference internal" href="../../quickstart.html"><span class="doc">Quick start guide</span></a> for a tutorial on
creating a Smithy model and building it with the Smithy Gradle plugin.</p>
<p>The examples in from the <a class="reference external" href="https://github.com/awslabs/smithy-gradle-plugin/tree/main/examples">examples directory</a>  can be copied into your workspace using
the <a class="reference internal" href="../smithy-cli/index.html#smithy-cli"><span class="std std-ref">Smithy CLI</span></a> <code class="docutils literal notranslate"><span class="pre">init</span></code> command as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>smithy init -t &lt;EXAMPLE_NAME&gt; -o &lt;OUTPUT_DIRECTORY&gt; --url https://github.com/smithy-lang/smithy-gradle-plugin
</pre></div>
</div>
<p>You can list all examples available in the <a class="reference external" href="https://github.com/awslabs/smithy-gradle-plugin/">Smithy Gradle plugins</a> repository with the following command:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>smithy init --list --url https://github.com/smithy-lang/smithy-gradle-plugin
</pre></div>
</div>
</div>
<div class="section" id="building-smithy-models">
<span id="id1"></span><h2>Building Smithy models<a class="headerlink" href="#building-smithy-models" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">smithyBuild</span></code> task that builds smithy models operates in two different modes:</p>
<ol class="arabic simple">
<li>If no <code class="docutils literal notranslate"><span class="pre">projection</span></code> is specified for the <code class="docutils literal notranslate"><span class="pre">SmithyExtension</span></code>, then the task
runs a &quot;source&quot; build using the &quot;source&quot; projection.</li>
<li>If a <code class="docutils literal notranslate"><span class="pre">projection</span></code> is specified for the <code class="docutils literal notranslate"><span class="pre">SmithyExtension</span></code>, then the task
runs in &quot;projection&quot; mode.</li>
</ol>
<div class="section" id="building-a-source-model">
<span id="building-source-model"></span><h3>Building a source model<a class="headerlink" href="#building-a-source-model" title="Permalink to this heading">#</a></h3>
<p>A &quot;source&quot; build is run when no <code class="docutils literal notranslate"><span class="pre">sourceProjection</span></code> is configured in
<code class="docutils literal notranslate"><span class="pre">SmithyExtension</span></code>. To prevent accidentally relying on Smithy models
that are only available as build dependencies, Smithy models are discovered
using only the <a class="reference internal" href="#model-sources"><span class="std std-ref">model sources</span></a> and <code class="docutils literal notranslate"><span class="pre">runtimeClasspath</span></code>.</p>
<p>The following example <code class="docutils literal notranslate"><span class="pre">build.gradle.kts</span></code> will build a Smithy model using a
&quot;source&quot; build:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id11" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">`java-library`</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy.gradle.smithy-jar&quot;</span><span class="p">).</span><span class="na">version</span><span class="p">(</span><span class="s">&quot;0.10.0&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// The SmithyExtension is used to customize the build. This example</span>
<span class="c1">// doesn&#39;t set any values and can be completely omitted.</span>
<span class="n">smithy</span><span class="w"> </span><span class="p">{}</span>

<span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mavenLocal</span><span class="p">()</span>
<span class="w">    </span><span class="n">mavenCentral</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy:smithy-model:1.45.0&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// These are just examples of dependencies. This model has a dependency on</span>
<span class="w">    </span><span class="c1">// a &quot;common&quot; model package and uses the external AWS traits.</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;com.foo.baz:foo-model-internal-common:1.0.0&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy:smithy-aws-traits:1.45.0&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id12" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;java-library&#39;</span>
<span class="w">    </span><span class="s1">&#39;software.amazon.smithy.gradle.smithy-jar&#39;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s1">&#39;0.10.0&#39;</span>
<span class="o">}</span>

<span class="c1">// The SmithyExtension is used to customize the build. This example</span>
<span class="c1">// doesn&#39;t set any values and can be completely omitted.</span>
<span class="n">smithy</span><span class="w"> </span><span class="o">{}</span>

<span class="n">repositories</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">mavenLocal</span><span class="o">()</span>
<span class="w">    </span><span class="n">mavenCentral</span><span class="o">()</span>
<span class="o">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;software.amazon.smithy:smithy-model:1.45.0&#39;</span>

<span class="w">    </span><span class="c1">// These are just examples of dependencies. This model has a dependency on</span>
<span class="w">    </span><span class="c1">// a &quot;common&quot; model package and uses the external AWS traits.</span>
<span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;com.foo.baz:foo-model-internal-common:1.0.0&#39;</span>
<span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;software.amazon.smithy:smithy-aws-traits:1.45.0&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="generating-a-projection">
<span id="generating-projection"></span><h3>Generating a projection<a class="headerlink" href="#generating-a-projection" title="Permalink to this heading">#</a></h3>
<p>A &quot;projection&quot; build is run when a <a class="reference internal" href="../smithy-build-json.html#projections"><span class="std std-ref">projection</span></a> is
specified in the <code class="docutils literal notranslate"><span class="pre">SmithyExtension</span></code>. You might create a projection of
a model if you need to maintain an internal version of a model that contains
more information and features than an external version of a model published to
your customers.</p>
<p>Any projected models should be added to the <code class="docutils literal notranslate"><span class="pre">smithyBuild</span></code> configuration. This
prevents packages with projected models from appearing as dependencies of the
projected version of the model.</p>
<p>The following example gradle build script will run a &quot;projection&quot;
build using the &quot;external&quot; projection.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id13" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">`java-library`</span>
<span class="w">    </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy.gradle.smithy-jar&quot;</span><span class="p">).</span><span class="na">version</span><span class="p">(</span><span class="s">&quot;0.10.0&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">repositories</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mavenLocal</span><span class="p">()</span>
<span class="w">    </span><span class="n">mavenCentral</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy:smithy-aws-traits:1.45.0&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Take a dependency on the internal model package. This</span>
<span class="w">    </span><span class="c1">// dependency *must* be a smithyBuild dependency to ensure</span>
<span class="w">    </span><span class="c1">// that is does not appear in the generated JAR.</span>
<span class="w">    </span><span class="n">smithyBuild</span><span class="p">(</span><span class="s">&quot;com.foo.baz:foo-internal-model:1.0.0&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Use the &quot;external&quot; projection. This projection must be found in the</span>
<span class="w">    </span><span class="c1">// smithy-build.json file. This also ensures that models found in the</span>
<span class="w">    </span><span class="c1">// foo-internal-package that weren&#39;t filtered out are copied into the</span>
<span class="w">    </span><span class="c1">// projection created by this package.</span>
<span class="w">    </span><span class="n">sourceProjection</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;external&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">projectionSourceTags</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="s">&quot;com.foo.baz:foo-internal-model&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id14" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;java-library&#39;</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;software.amazon.smithy.gradle.smithy-jar&#39;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s1">&#39;0.10.0&#39;</span>
<span class="o">}</span>

<span class="n">repositories</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">mavenLocal</span><span class="o">()</span>
<span class="w">    </span><span class="n">mavenCentral</span><span class="o">()</span>
<span class="o">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;software.amazon.smithy:smithy-aws-traits:1.45.0&#39;</span>

<span class="w">    </span><span class="c1">// Take a dependency on the internal model package. This</span>
<span class="w">    </span><span class="c1">// dependency *must* be a smithyBuild dependency to ensure</span>
<span class="w">    </span><span class="c1">// that is does not appear in the generated JAR.</span>
<span class="w">    </span><span class="n">smithyBuild</span><span class="w"> </span><span class="s1">&#39;com.foo.baz:foo-internal-model:1.0.0&#39;</span>
<span class="o">}</span>

<span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1">// Use the &quot;external&quot; projection. This projection must be found in the</span>
<span class="w">    </span><span class="c1">// smithy-build.json file. This also ensures that models found in the</span>
<span class="w">    </span><span class="c1">// foo-internal-package that weren&#39;t filtered out are copied into the</span>
<span class="w">    </span><span class="c1">// projection created by this package.</span>
<span class="w">    </span><span class="n">sourceProjection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;external&quot;</span>
<span class="w">    </span><span class="n">projectionSourceTags</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;com.foo.baz:foo-internal-model&quot;</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Because the <code class="docutils literal notranslate"><span class="pre">sourceProjection</span></code> of the <code class="docutils literal notranslate"><span class="pre">SmithyExtension</span></code> was set to <code class="docutils literal notranslate"><span class="pre">external</span></code>, a
<code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> file <strong>must</strong> be found that defines the <code class="docutils literal notranslate"><span class="pre">external</span></code>
projection. For example:</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">smithy-build.json</span><a class="headerlink" href="#id15" title="Permalink to this code">#</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;projections&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;external&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;transforms&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;excludeShapesByTag&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;internal&quot;</span><span class="p">]</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;excludeShapesByTrait&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;traits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;internal&quot;</span><span class="p">]</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;excludeMetadata&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;suppressions&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;validators&quot;</span><span class="p">]</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;removeUnusedShapes&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="projection-tags">
<span id="id2"></span><h4>Projection tags<a class="headerlink" href="#projection-tags" title="Permalink to this heading">#</a></h4>
<p>Projections can <em>project</em> and filter shapes from dependencies into the output model.
&quot;Projecting&quot; a dependency into your output JAR will include that model in the output
sources of your project. Downstream consumers of your JAR will then no longer need to
include the &quot;projected&quot; dependency as a dependency of their project to resolve the
&quot;projected&quot; shapes. You need to specify which dependencies are being projected into
your JAR by setting the <code class="docutils literal notranslate"><span class="pre">projectionSourceTags</span></code> property.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id16" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sourceProjection</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;external&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">projectionSourceTags</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;com.baz:bar&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id17" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">projection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;external&quot;</span>
<span class="w">    </span><span class="n">projectionSourceTags</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">setOf</span><span class="o">(</span><span class="s2">&quot;Foo&quot;</span><span class="o">,</span><span class="w"> </span><span class="s2">&quot;com.baz:bar&quot;</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Tags are used to logically group packages to make it easier to build
projections. The <code class="docutils literal notranslate"><span class="pre">tags</span></code> property is used to add <code class="docutils literal notranslate"><span class="pre">Smithy-Tags</span></code> attribute
to the JAR MANIFEST.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id18" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">tags</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="s">&quot;X&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;foobaz-model&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id19" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">tags</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;X&quot;</span><span class="o">,</span><span class="w"> </span><span class="s2">&quot;foobaz-model&quot;</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>For example, if your service is made up of 10 packages, you can add the
&quot;foobaz-model&quot; Smithy tag to each package so that the only value that needs
to be provided for <code class="docutils literal notranslate"><span class="pre">tags</span></code> to correctly project your model is &quot;foobaz-model&quot;.</p>
<p>When building a model package, the Smithy Gradle plugin will automatically add
the group name of the package being built, the group name + &quot;:&quot; + name of the package,
and group name + &quot;:&quot; + name + &quot;:&quot; version. This allows models to always
be queried by group and artifact names in addition to custom tags.</p>
</div>
</div>
<div class="section" id="building-artifacts-from-smithy-models">
<span id="artifacts-from-smithy-models"></span><h3>Building artifacts from Smithy models<a class="headerlink" href="#building-artifacts-from-smithy-models" title="Permalink to this heading">#</a></h3>
<p>If a <a class="reference internal" href="../smithy-build-json.html#smithy-build"><span class="std std-ref">smithy-build.json</span></a> file is found at the root of the project,
then it will be used to generate <a class="reference internal" href="../smithy-build-json.html#projection-artifacts"><span class="std std-ref">artifacts</span></a> from the Smithy
model. Smithy uses <a class="reference internal" href="../smithy-build-json.html#plugins"><span class="std std-ref">build plugins</span></a> to generate projection artifacts. To
use a smithy build plugin with Gradle, first add it as a <code class="docutils literal notranslate"><span class="pre">smithyBuild</span></code> dependency in
the Gradle build script. The plugin will then be discoverable and can be configured
in the <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> file.</p>
<p>For example, to generate a Typescript client from a Smithy model, add the
<code class="docutils literal notranslate"><span class="pre">smithy-typescript-codegen</span></code> package as a <code class="docutils literal notranslate"><span class="pre">smithyBuild</span></code> dependency:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id20" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// This dependency is required in order to apply the &quot;typescript-client-codegen&quot;</span>
<span class="w">    </span><span class="c1">// plugin in smithy-build.json</span>
<span class="w">    </span><span class="n">smithyBuild</span><span class="p">(</span><span class="s">&quot;software.amazon.smithy.typescript:smithy-typescript-codegen:0.19.0&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id21" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// This dependency is required in order to apply the &quot;typescript-client-codegen&quot;</span>
<span class="w">    </span><span class="c1">// plugin in smithy-build.json</span>
<span class="w">    </span><span class="n">smithyBuild</span><span class="w"> </span><span class="s1">&#39;software.amazon.smithy.typescript:smithy-typescript-codegen:0.19.0&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>The plugin can then be configured in the <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> to generate a typescript client
from a Smithy model:</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">smithy-build.json</span><a class="headerlink" href="#id22" title="Permalink to this code">#</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plugins&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;typescript-client-codegen&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;package&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;@smithy/typescript-client-codegen-example&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;packageVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;packageJson&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;license&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MIT&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="configuration">
<span id="gradle-plugin-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h2>
<div class="section" id="model-sources">
<span id="id3"></span><h3>Smithy model sources<a class="headerlink" href="#model-sources" title="Permalink to this heading">#</a></h3>
<p>Smithy gradle plugins assume Smithy model files (<code class="docutils literal notranslate"><span class="pre">*.smithy</span></code>) are organized in a similar way as Java source files,
in sourceSets. The smithy-base plugin adds a new sources block named smithy to every sourceSet.
By default, this source block will include Smithy models in:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">model/</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">src/$sourceSetName/smithy</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">src/$sourceSetName/resources/META-INF/smithy</span></code></li>
</ul>
<p>New source directories can be added to a smithy sources block as follows:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id23" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">sourceSets</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">main</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">srcDir</span><span class="p">(</span><span class="s">&quot;includes&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--6-input--2" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id24" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">sourceSets</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">main</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">srcDir</span><span class="w"> </span><span class="s1">&#39;includes&#39;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>Models found in these directories are combined into a flattened directory
structure and used to validate and build the Smithy model. A Smithy manifest
file is automatically created for the detected models, and it, along with the
model files, are placed in the <code class="docutils literal notranslate"><span class="pre">META-INF/smithy/</span></code> resource of the created
JAR. Any project that depends on this created JAR will be able to find
and use the Smithy models contained in the JAR when using <em>model discovery</em>.</p>
</div>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this heading">#</a></h3>
<p>The Smithy build plugins use two different configurations to search for dependencies
such as shared models or <a class="reference internal" href="../smithy-build-json.html#plugins"><span class="std std-ref">smithy build plugins</span></a>:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">runtimeClasspath</span></code>:</dt><dd>Runtime dependencies that will be required by any output JARS or publications.
For example, a shared model package or Java trait definition.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">smithyBuild</span></code>:</dt><dd>Build dependencies that are not required by output models.</dd>
</dl>
</li>
</ul>
<p>Runtime dependencies can be added directly to the <code class="docutils literal notranslate"><span class="pre">runtimeClasspath</span></code> configuration
or to a configuration that extends <code class="docutils literal notranslate"><span class="pre">runtimeClasspath</span></code>, such as the <code class="docutils literal notranslate"><span class="pre">implementation</span></code>
configuration added by the <code class="docutils literal notranslate"><span class="pre">java-library</span></code> plugin.</p>
<div class="section" id="build-dependencies">
<span id="id4"></span><h4>Build Dependencies<a class="headerlink" href="#build-dependencies" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">smithy-base</span></code> plugin adds a <code class="docutils literal notranslate"><span class="pre">smithyBuild</span></code> <a class="reference external" href="https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.Configuration.html">Configuration</a> that can be used to specify
dependencies used when calling <code class="docutils literal notranslate"><span class="pre">smithy</span> <span class="pre">build</span></code>. These dependencies will not be included in any output JARs or publications. They are akin to <cite>compileOnly</cite>
dependencies for Java projects. Smithy build plugins and projected dependencies should be
included in the <cite>smithyBuild</cite> configuration. For example:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id25" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">smithyBuild</span><span class="p">(</span><span class="s">&quot;com.example.software:build-only:1.0.0&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id26" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">dependencies</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">smithyBuild</span><span class="w"> </span><span class="s1">&#39;com.example.software:build-only:1.0.0&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="smithy-extension-properties">
<span id="id5"></span><h3>Smithy extension properties<a class="headerlink" href="#smithy-extension-properties" title="Permalink to this heading">#</a></h3>
<p>The Smithy Gradle plugins are configured using the <a class="reference external" href="https://github.com/smithy-lang/smithy-gradle-plugin/blob/main/smithy-base/src/main/java/software/amazon/smithy/gradle/SmithyExtension.java">SmithyExtension</a> extension:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id27" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">projection</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id28" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">projection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<p>This extension supports the following properties:</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>format</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>Flag indicating whether to format Smithy source files. By default, the <a class="reference internal" href="../smithy-cli/index.html#smithy-cli"><span class="std std-ref">Smithy CLI</span></a> <code class="docutils literal notranslate"><span class="pre">format</span></code>
command is executed on all source directories. This opinionated formatter follows the best practices
recommended by the Smithy team. It is possible to disable the formatter by setting this flag to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</td>
</tr>
<tr class="row-odd"><td>smithyBuildConfigs</td>
<td><code class="docutils literal notranslate"><span class="pre">FileCollection</span></code></td>
<td>Sets a custom collection of smithy-build.json files to use when building the model.</td>
</tr>
<tr class="row-even"><td>sourceProjection</td>
<td><code class="docutils literal notranslate"><span class="pre">String</span></code></td>
<td>Sets the <a class="reference internal" href="../smithy-build-json.html#projections"><span class="std std-ref">projection</span></a> name to use as the source (primary) projection.
The smithy sources for this projection will be packaged in output JARs by the <code class="docutils literal notranslate"><span class="pre">smithy-jar</span></code>
plugin. There must be a corresponding projection definition in the <a class="reference internal" href="../smithy-build-json.html#id1"><span class="std std-ref">smithy-build.json</span></a>
file in the project. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;source&quot;</span></code>.</td>
</tr>
<tr class="row-odd"><td>projectionSourceTags</td>
<td><code class="docutils literal notranslate"><span class="pre">Set&lt;String&gt;</span></code></td>
<td>Get the tags that are searched for in classpaths when determining
which models are projected into the created JAR. This plugin will look
through the JARs in the buildscript classpath to see if they contain a
META-INF/MANIFEST.MF attribute named &quot;Smithy-Tags&quot; that matches any of
the given projection source tags. The Smithy models found in each
matching JAR are copied into the JAR being projected. This allows a
projection JAR to aggregate models into a single JAR.</td>
</tr>
<tr class="row-even"><td>tags</td>
<td><code class="docutils literal notranslate"><span class="pre">Set&lt;String&gt;</span></code></td>
<td>Set the tags that are added to the JAR. These tags are placed in the
META-INF/MANIFEST.MF attribute named &quot;Smithy-Tags&quot; as a comma
separated list. JARs with Smithy-Tags can be queried when building
projections so that the Smithy models found in each matching JAR are
placed into the projection JAR.</td>
</tr>
<tr class="row-odd"><td>allowUnknownTraits</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>Sets whether or not unknown traits in the model should be ignored. By
default, the build will fail if unknown traits are encountered.</td>
</tr>
<tr class="row-even"><td>fork</td>
<td><code class="docutils literal notranslate"><span class="pre">boolean</span></code></td>
<td>By default, the CLI is run in the same process as Gradle,
but inside a thread with a custom class loader. This should
work in most cases, but there is an option to run inside a
process if necessary.</td>
</tr>
<tr class="row-odd"><td>outputDirectory</td>
<td><code class="docutils literal notranslate"><span class="pre">Directory</span></code></td>
<td>Defines where Smithy build artifacts are written.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="customize-output-directory">
<h4>Customize output directory<a class="headerlink" href="#customize-output-directory" title="Permalink to this heading">#</a></h4>
<p>By default, Smithy build artifacts will be placed in the project build
directory in a <code class="docutils literal notranslate"><span class="pre">smithyprojections/</span></code> directory. There are two ways to override
the output directory. The first method is to set the <code class="docutils literal notranslate"><span class="pre">outputDirectory</span></code> property
in the <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code> config for your Smithy project. For example:</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">smithy-build.json</span><a class="headerlink" href="#id29" title="Permalink to this code">#</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;outputDirectory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;build/output&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>The second method is to configure the plugin using the <code class="docutils literal notranslate"><span class="pre">smithy</span></code> extension:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id30" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">outputDirectory</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">file</span><span class="p">(</span><span class="s">&quot;path/to/output&quot;</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id31" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">outputDirectory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">file</span><span class="o">(</span><span class="s2">&quot;path/to/output&quot;</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Setting the output directory on the plugin extension will
override any <code class="docutils literal notranslate"><span class="pre">outputDirectory</span></code> property set in the
smithy-build config.</p>
</div>
</div>
<div class="section" id="set-smithy-build-configs-to-use">
<h4>Set <code class="docutils literal notranslate"><span class="pre">smithy-build</span></code> configs to use<a class="headerlink" href="#set-smithy-build-configs-to-use" title="Permalink to this heading">#</a></h4>
<p>By default, the plugin will look for a file called <code class="docutils literal notranslate"><span class="pre">smithy-build.json</span></code>
at the project's root and will use that as the <a class="reference internal" href="../smithy-build-json.html#smithy-build"><span class="std std-ref">smithy-build config</span></a>
for your project. If no smithy-build.json file is found, then an empty build config
is used to build the project.</p>
<p>Alternatively, you can explicitly configure one or more smithy-build configs to use for
your project as follows:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id32" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">smithyBuildConfigs</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">files</span><span class="p">(</span><span class="s">&quot;smithy-build-config.json&quot;</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id33" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">smithyBuildConfigs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">files</span><span class="o">(</span><span class="s2">&quot;smithy-build-config.json&quot;</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="set-smithy-tags-to-add-to-a-jar">
<h4>Set Smithy Tags to add to a JAR<a class="headerlink" href="#set-smithy-tags-to-add-to-a-jar" title="Permalink to this heading">#</a></h4>
<p>When the smithy-jar plugin is applied to a project, it can add a number of Smithy
tags to the MANIFEST of a generated JAR. These tags can be used by downstream
consumers to filter which models to include in projections. Tags can be configured
for the plugin as follows:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id34" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">tags</span><span class="p">.</span><span class="na">addAll</span><span class="p">(</span><span class="s">&quot;tag1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;anotherTag&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;anotherTag2&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id35" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">tags</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;tag1&quot;</span><span class="o">,</span><span class="w"> </span><span class="s2">&quot;anotherTag&quot;</span><span class="o">,</span><span class="w"> </span><span class="s2">&quot;anotherTag2&quot;</span><span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="fork-a-new-process-when-executing-smithy-cli-commands">
<h4>Fork a new process when executing Smithy CLI commands<a class="headerlink" href="#fork-a-new-process-when-executing-smithy-cli-commands" title="Permalink to this heading">#</a></h4>
<p>By default, <a class="reference internal" href="../smithy-cli/index.html#smithy-cli"><span class="std std-ref">Smithy CLI</span></a> commands are run in the
same process as Gradle, but inside a thread with a custom class loader.
This should work in most cases, but there is an option to run inside a
process if necessary. To run Smithy CLI commands in a process set the
<code class="docutils literal notranslate"><span class="pre">fork</span></code> configuration option to true:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id36" title="Permalink to this code">#</a></div>
<div class="highlight-kotlin notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fork</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id37" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">fork</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="disable-smithy-formatter">
<span id="id6"></span><h4>Disable Smithy Formatter<a class="headerlink" href="#disable-smithy-formatter" title="Permalink to this heading">#</a></h4>
<p>By default, the <a class="reference internal" href="../smithy-cli/index.html#smithy-cli"><span class="std std-ref">Smithy CLI</span></a> <code class="docutils literal notranslate"><span class="pre">format</span></code> command is
executed on all source directories. This opinionated formatter follows
the best practices recommended by the Smithy team. It is possible to disable
the formatter by setting the format setting on the plugin extension to false:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--1">Kotlin</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text">build.gradle.kts</span><a class="headerlink" href="#id38" title="Permalink to this code">#</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span> <span class="p">{</span>
    <span class="nb">format</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">false</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--2">Groovy</label><div class="tab-content docutils container">
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text">build.gradle</span><a class="headerlink" href="#id39" title="Permalink to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">smithy</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="gradle-migration-guide.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Migrating to Gradle plugin version 0.10.0+</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../smithy-build-json.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">smithy-build.json</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Amazon Web Services
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/awslabs/smithy" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Smithy Gradle Plugins</a><ul>
<li><a class="reference internal" href="#plugins">Plugins</a><ul>
<li><a class="reference internal" href="#applying-plugins">Applying Plugins</a></li>
</ul>
</li>
<li><a class="reference internal" href="#complete-examples">Complete Examples</a></li>
<li><a class="reference internal" href="#building-smithy-models">Building Smithy models</a><ul>
<li><a class="reference internal" href="#building-a-source-model">Building a source model</a></li>
<li><a class="reference internal" href="#generating-a-projection">Generating a projection</a><ul>
<li><a class="reference internal" href="#projection-tags">Projection tags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-artifacts-from-smithy-models">Building artifacts from Smithy models</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#model-sources">Smithy model sources</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li><a class="reference internal" href="#build-dependencies">Build Dependencies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#smithy-extension-properties">Smithy extension properties</a><ul>
<li><a class="reference internal" href="#customize-output-directory">Customize output directory</a></li>
<li><a class="reference internal" href="#set-smithy-build-configs-to-use">Set <code class="docutils literal notranslate"><span class="pre">smithy-build</span></code> configs to use</a></li>
<li><a class="reference internal" href="#set-smithy-tags-to-add-to-a-jar">Set Smithy Tags to add to a JAR</a></li>
<li><a class="reference internal" href="#fork-a-new-process-when-executing-smithy-cli-commands">Fork a new process when executing Smithy CLI commands</a></li>
<li><a class="reference internal" href="#disable-smithy-formatter">Disable Smithy Formatter</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabs.js"></script>
    </body>
</html>